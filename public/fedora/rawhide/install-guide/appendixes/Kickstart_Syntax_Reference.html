<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kickstart Syntax Reference :: Local Preview</title>
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar" style="">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../..">
        <img src="../../../../_/img/docs_logo.png" style="height:40px">
      </a>
      <!-- We don't have anything in the menu, but the burger still appears
           on mobile devices. So let's remove it. -->
      <!--<button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>-->
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        
      </div>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="fedora" data-version="rawhide">
  <aside class="navigation" role="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">Fedora User Docs</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../index.html">OpenCPN Plugins by Category</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../other.html">Other</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../sailing.html">Sailing</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">Fedora User Docs</span>
    <span class="version">rawhide</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Fedora User Docs</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">rawhide</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main" role="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
<nav class="crumbs" role="navigation" aria-label="breadcrumbs">
  
  <ul>
      <li class="crumb HO"><a href="../index.html">Home</a></li>
    <li class="crumb HO"><a href="../../index.html">Fedora User Docs</a></li>
    <li class="crumb HA"><a href="Kickstart_Syntax_Reference.html">Kickstart Syntax Reference</a></li>
  </ul>
  
</nav>
  <div class="edit-this-page"><a href="https://pagure.io/fedora-docs/install-guide/blob/master/f/modules/install-guide/pages/appendixes/Kickstart_Syntax_Reference.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1>Kickstart Syntax Reference</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This appendix describes commands and options available in Kickstart installations. For general information about Kickstart, see <a href="../advanced/Kickstart_Installations.html#chap-kickstart-installations" class="page">Automating the Installation with Kickstart</a>.</p>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#sect-kickstart-commands-installation">Installation Methods and Sources</a>
<ul class="sectlevel2">
<li><a href="#sect-kickstart-commands-device">device (optional) - Install Extra Device Drivers</a></li>
<li><a href="#sect-kickstart-commands-driverdisk">driverdisk (optional) - Use a Driver Disk</a></li>
<li><a href="#sect-kickstart-commands-install">install (required) - Configure Installation Method</a></li>
<li><a href="#sect-kickstart-commands-mediacheck">mediacheck (optional) - Verify Installation Media Integrity</a></li>
<li><a href="#sect-kickstart-commands-ostreesetup">ostreesetup (optional) - Install from an OSTree</a></li>
<li><a href="#sect-kickstart-commands-repo">repo (optional) - Configure Additional Repositories</a></li>
<li><a href="#sect-kickstart-commands-url">url (optional) - Install from an installation tree on a remote server via FTP or HTTP.</a></li>
</ul>
</li>
<li><a href="#sect-kickstart-commands-storage">Storage and Partitioning</a>
<ul class="sectlevel2">
<li><a href="#sect-kickstart-commands-autopart">autopart (optional) - Automatic Partitioning</a></li>
<li><a href="#sect-kickstart-commands-bootloader">bootloader (required) - Configure Boot Loader</a></li>
<li><a href="#sect-kickstart-commands-btrfs">btrfs (optional) - Create Btrfs Volume or Subvolume</a></li>
<li><a href="#sect-kickstart-commands-clearpart">clearpart (optional) - Remove All Existing Partitions</a></li>
<li><a href="#sect-kickstart-commands-fcoe">fcoe (optional) - Configure Fibre Channel Over Ethernet Devices</a></li>
<li><a href="#sect-kickstart-commands-ignoredisk">ignoredisk (optional) - Ignore Specified Disks</a></li>
<li><a href="#sect-kickstart-commands-iscsi">iscsi (optional) - Configure iSCSI Devices</a></li>
<li><a href="#sect-kickstart-commands-iscsiname">iscsiname (optional) - Assign Name to iSCSI Device</a></li>
<li><a href="#sect-kickstart-commands-logvol">logvol (optional) - Create LVM Logical Volume</a></li>
<li><a href="#sect-kickstart-commands-part">part (required) - Create Physical Partition</a></li>
<li><a href="#sect-kickstart-commands-raid">raid (optional) - Create Software RAID</a></li>
<li><a href="#sect-kickstart-commands-reqpart">reqpart (optional) - Create Required Partitions</a></li>
<li><a href="#sect-kickstart-commands-volgroup">volgroup (optional) - Create LVM Volume Group</a></li>
<li><a href="#sect-kickstart-commands-zerombr">zerombr (optional) - Reinitialize Partition Tables</a></li>
<li><a href="#sect-kickstart-commands-zfcp">zfcp (optional) - Configure Fibre Channel Device</a></li>
</ul>
</li>
<li><a href="#sect-kickstart-commands-network-configuration">Network Configuration</a>
<ul class="sectlevel2">
<li><a href="#sect-kickstart-commands-firewall">firewall (optional) - Configure Firewall</a></li>
<li><a href="#sect-kickstart-commands-network">network (optional) - Configure Network Interfaces</a></li>
</ul>
</li>
<li><a href="#sect-kickstart-commands-environment">Console and Environment</a>
<ul class="sectlevel2">
<li><a href="#sect-kickstart-commands-keyboard">keyboard (optional) - Configure Keyboard Layouts</a></li>
<li><a href="#sect-kickstart-commands-lang">lang (optional) - Configure Language During Installation</a></li>
<li><a href="#sect-kickstart-commands-services">services (optional) - Configure Services</a></li>
<li><a href="#sect-kickstart-commands-skipx">skipx (optional) - Do Not Configure X Window System</a></li>
<li><a href="#sect-kickstart-commands-timezone">timezone (optional) - Configure Time Zone</a></li>
<li><a href="#sect-kickstart-commands-xconfig">xconfig (optional) - Configure X Window System</a></li>
</ul>
</li>
<li><a href="#sect-kickstart-commands-users-groups">Users, Groups and Authentication</a>
<ul class="sectlevel2">
<li><a href="#sect-kickstart-commands-authconfig">auth or authconfig (optional) - Configure Authentication (deprecated)</a></li>
<li><a href="#sect-kickstart-commands-authselect">authselect (optional) - Configure Authentication</a></li>
<li><a href="#sect-kickstart-commands-group">group (optional) - Create User Group</a></li>
<li><a href="#sect-kickstart-commands-pwpolicy">pwpolicy (optional) - Change the Default Password Policy</a></li>
<li><a href="#sect-kickstart-commands-realm">realm (optional) - Join an Active Directory or IPA Domain</a></li>
<li><a href="#sect-kickstart-commands-rootpw">rootpw (required) - Set Root Password</a></li>
<li><a href="#sect-kickstart-commands-selinux">selinux (optional) - Configure SELinux</a></li>
<li><a href="#sect-kickstart-commands-sshkey">sshkey (optional) - Add an Authorized SSH Key</a></li>
<li><a href="#sect-kickstart-commands-user">user (optional) - Create User Account</a></li>
</ul>
</li>
<li><a href="#sect-kickstart-commands-installation-environment">Installation Environment</a>
<ul class="sectlevel2">
<li><a href="#sect-kickstart-commands-autostep">autostep (optional) - Go Through Every Screen</a></li>
<li><a href="#sect-kickstart-commands-cmdline">cmdline (optional) - Perform Installation in Command Line Mode</a></li>
<li><a href="#sect-kickstart-commands-graphical">graphical (optional) - Perform Installation in Graphical Mode</a></li>
<li><a href="#sect-kickstart-commands-logging">logging (optional) - Configure Error Logging During Installation</a></li>
<li><a href="#sect-kickstart-commands-rescue">rescue (optional) - Rescue Mode</a></li>
<li><a href="#sect-kickstart-commands-sshpw">sshpw (optional) - Restrict ssh Access During Installation</a></li>
<li><a href="#sect-kickstart-commands-text">text (optional) - Perform Installation in Text Mode</a></li>
<li><a href="#sect-kickstart-commands-unsupported_hardware">unsupported_hardware (optional) - Suppress Unsupported Hardware Alerts</a></li>
<li><a href="#sect-kickstart-commands-vnc">vnc (optional) - Configure VNC Access</a></li>
</ul>
</li>
<li><a href="#sect-kickstart-commands-after">After the Installation</a>
<ul class="sectlevel2">
<li><a href="#sect-kickstart-commands-kdump">%addon com_redhat_kdump (optional) - Configure kdump</a></li>
<li><a href="#sect-kickstart-commands-firstboot">firstboot (optional) - Enable or Disable Initial Setup</a></li>
<li><a href="#sect-kickstart-commands-halt">halt (optional) - Halt System After Installation</a></li>
<li><a href="#sect-kickstart-commands-poweroff">poweroff (optional) - Power Off After Installation</a></li>
<li><a href="#sect-kickstart-commands-reboot">reboot (optional) - Reboot After Installation</a></li>
<li><a href="#sect-kickstart-commands-shutdown">shutdown (optional) - Shut Down After Installation</a></li>
</ul>
</li>
<li><a href="#sect-kickstart-examples">Example Kickstart Configurations</a>
<ul class="sectlevel2">
<li><a href="#sect-kickstart-example-advanced-partitioning">Advanced Partitioning Example</a></li>
<li><a href="#sect-kickstart-example-pre-script">Example Pre-installation Script</a></li>
<li><a href="#sect-kickstart-example-post-script">Example Post-installation Script</a></li>
</ul>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Device names are not guaranteed to be consistent across reboots, which can complicate usage in Kickstart scripts. When a Kickstart option calls for a device node name (such as <code>sda</code>), you can instead use any item from <code>/dev/disk</code>. For example, instead of:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">part / --fstype=xfs --onpart=sda1</span></pre>
</div>
</div>
<div class="paragraph">
<p>You could use an entry similar to one of the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>part / --fstype=xfs --onpart=/dev/disk/by-path/pci-0000:00:05.0-scsi-0:0:0:0-part1
part / --fstype=xfs --onpart=/dev/disk/by-id/ata-ST3160815AS_6RA0C882-part1</pre>
</div>
</div>
<div class="paragraph">
<p>This provides a consistent way to refer to disks that is more meaningful than just <code>sda</code>. This is especially useful in large storage environments.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>While the general principles of Kickstart installations tend to stay the same, the commands and options can change between major releases. You can use the <span class="command">ksverdiff</span> command to display the differences between two versions of the Kickstart syntax. This is useful when updating an existing Kickstart file to be used with a new release. To display a list of changes in syntax between Fedora&#160;29 and 30, use the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ <span class="command">ksverdiff -f F29 -t F30</span></pre>
</div>
</div>
<div class="paragraph">
<p>The <span class="option">-f</span> option specifies the release to start the comparison with, and the <span class="option">-t</span> option to specify the release to end with. For additional information, see the <code>ksverdiff(1)</code> man page. Also note that you can not use this to display changes in a release that is newer than your system - the version of <strong class="package">pykickstart</strong> on Fedora&#160;29 can not display changes in Fedora&#160;30.</p>
</div>
<div class="paragraph">
<p>Additionally, you can review the <em class="citetitle">Fedora&#160;30 Release Notes</em>, available at <a href="https://docs.fedoraproject.org/" class="bare">https://docs.fedoraproject.org/</a>, for a list of changes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In the following sections, if an option is followed by an equals mark (<code>=</code>), a value must be specified after it. In the example commands, options in square brackets (<code>[ ]</code>) are optional arguments for the command.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sect-kickstart-commands-installation"><a class="anchor" href="#sect-kickstart-commands-installation"></a>Installation Methods and Sources</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following commands control the way Fedora will be installed.</p>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-device"><a class="anchor" href="#sect-kickstart-commands-device"></a>device (optional) - Install Extra Device Drivers</h3>
<div class="paragraph">
<p>On most PCI systems, the installation program will automatically detect Ethernet and SCSI cards. However, on older systems and some PCI systems, Kickstart requires a hint to find the proper devices. The <span class="command">device</span> command, which tells the installation program to install extra modules, uses the following format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">device <em>moduleName</em> [--opts=]</span></pre>
</div>
</div>
<div class="paragraph">
<p>Replace <em>moduleName</em> with the name of the kernel module which should be installed.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--opts=</span></dt>
<dd>
<p>Options to pass to the installed kernel module. For example:</p>
<div class="listingblock">
<div class="content">
<pre>device i2c_piix4 --opts="aic152x=0x340 io=11"</pre>
</div>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-driverdisk"><a class="anchor" href="#sect-kickstart-commands-driverdisk"></a>driverdisk (optional) - Use a Driver Disk</h3>
<div class="paragraph">
<p>Driver disks can be used during Kickstart installations to provide additional drivers not included by default. You must copy the driver disks&#8217;s contents to the root directory of a partition on the system&#8217;s hard drive. Then, you must use the <span class="command">driverdisk</span> command to specify that the installation program should look for a driver disk and its location.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">driverdisk <em>partition</em> | --source= | --biospart=</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>partition</em></dt>
<dd>
<p>Search for the driver disk image on a local partition. Replace <em>partition</em> with the name of the partition containing the driver disk. Note that the partition must be specified as a full path. For example:</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">driverdisk /dev/sdb1</span></pre>
</div>
</div>
</dd>
<dt class="hdlist1"><span class="option">--source=</span></dt>
<dd>
<p>Search for the driver disk in a network location instead of a local partition. For example:</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">driverdisk --source=ftp://<em>path/to/dd.img</em></span></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">driverdisk --source=http://<em>path/to/dd.img</em></span></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">driverdisk --source=nfs:<em>hostname</em>:/<em>path/to/dd.img</em></span></pre>
</div>
</div>
</dd>
<dt class="hdlist1"><span class="option">--biospart=</span></dt>
<dd>
<p>BIOS partition containing the driver disk (for example, <code>82p2</code>).</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-install"><a class="anchor" href="#sect-kickstart-commands-install"></a>install (required) - Configure Installation Method</h3>
<div class="paragraph">
<p>The default installation mode. You must specify the type of installation from <code>cdrom</code>, <code>harddrive</code>, <code>nfs</code>, <code>liveimg</code>, or <code>url</code>. The <span class="command">install</span> command and the installation method command must be on separate lines. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">install</span>
<span class="command">liveimg --url=file:///images/install/squashfs.img --noverifyssl</span></pre>
</div>
</div>
<div class="paragraph">
<p>The installation method commands are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="command">cdrom</span></dt>
<dd>
<p>Install from the first optical (DVD) drive on the system.</p>
</dd>
<dt class="hdlist1"><span class="command">harddrive</span></dt>
<dd>
<p>Install from a tree or full installation ISO image on a local hard drive. The tree or ISO image must be on a file system which is mountable in the installation environment. Supported file systems are <code>ext2</code>, <code>ext3</code>, <code>ext4</code>, <code>vfat</code>, or <code>xfs</code>.</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">install</span>
<span class="command">harddrive --partition= | --biospart= [--dir=]</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--partition=</span></dt>
<dd>
<p>Partition to install from (such as <code>sdb2</code>).</p>
</dd>
<dt class="hdlist1"><span class="option">--biospart=</span></dt>
<dd>
<p>BIOS partition to install from (such as <code>82p2</code>).</p>
</dd>
<dt class="hdlist1"><span class="option">--dir=</span></dt>
<dd>
<p>Directory containing the installation tree or ISO image.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><span class="command">liveimg</span></dt>
<dd>
<p>Install from a disk image instead of packages. The image can be the <code>squashfs.img</code> file from a live ISO image, or any file system that the installation media can mount. Supported file systems are <code>ext2</code>, <code>ext3</code>, <code>ext4</code>, <code>vfat</code>, and <code>xfs</code>.</p>
<div class="paragraph">
<p>This command also supports installation from tar archives of the root file system. In that case, the file name must end with <code>.tar</code>, <code>.tbz</code>, <code>.tgz</code>, <code>.txz</code>, <code>.tar.bz2</code>, <code>tar.gz</code>, or <code>tar.xz</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">install</span>
<span class="command">liveimg --url=  [--proxy= | --checksum= | --noverifyssl=]</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--url=</span></dt>
<dd>
<p>The location to install from. Supported protocols are <code>HTTP</code>, <code>HTTPS</code>, <code>FTP</code>, and <code>file</code>.</p>
</dd>
<dt class="hdlist1"><span class="option">--proxy=</span></dt>
<dd>
<p>Specify an <code>HTTP</code>, <code>HTTPS</code> or <code>FTP</code> proxy to use while performing the installation.</p>
</dd>
<dt class="hdlist1"><span class="option">--checksum=</span></dt>
<dd>
<p>An optional argument with the <code>SHA256</code> checksum of the image file, used for integrity verification. If you are using a live image provided by Fedora Project, you can find a list of checksums at <a href="https://fedoraproject.org/en/verify" class="bare">https://fedoraproject.org/en/verify</a>.</p>
</dd>
<dt class="hdlist1"><span class="option">--noverifyssl</span></dt>
<dd>
<p>Disable SSL verification when connecting to an <code>HTTPS</code> server.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><span class="command">nfs</span></dt>
<dd>
<p>Install from an <code>NFS</code> server specified. The NFS server must be exporting the full installation ISO image (such as the Fedora Server DVD) or its extracted contents.</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">install</span>
<span class="command">nfs --server=  [--dir=] [--opts= ]</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--server=</span></dt>
<dd>
<p>Host name of the server.</p>
</dd>
<dt class="hdlist1"><span class="option">--dir=</span></dt>
<dd>
<p>Directory containing the installation tree or ISO image.</p>
</dd>
<dt class="hdlist1"><span class="option">--opts=</span></dt>
<dd>
<p>Mount options to use for mounting the <code>NFS</code> export.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><span class="command">url</span></dt>
<dd>
<p>Install from a tree on a remote server via <code>HTTP</code>, <code>HTTPS</code>, or <code>FTP</code>.</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">install</span>
<span class="command">url --url= | --mirrorlist= [--proxy= | --noverifyssl]</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--url=</span></dt>
<dd>
<p>The location to install from. Supported protocols are <code>http</code>, <code>https</code>, <code>ftp</code>, and <code>file</code>.</p>
</dd>
<dt class="hdlist1"><span class="option">--mirrorlist=</span></dt>
<dd>
<p>The mirror URL to install from.</p>
</dd>
<dt class="hdlist1"><span class="option">--proxy=</span></dt>
<dd>
<p>Specify an <code>HTTP</code>, <code>HTTPS</code> or <code>FTP</code> proxy to use while performing the installation.</p>
</dd>
<dt class="hdlist1"><span class="option">--noverifyssl</span></dt>
<dd>
<p>Disable SSL verification when connecting to an <code>HTTPS</code> server.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-mediacheck"><a class="anchor" href="#sect-kickstart-commands-mediacheck"></a>mediacheck (optional) - Verify Installation Media Integrity</h3>
<div class="paragraph">
<p>This command will force the installation program to perform a media check before starting the installation, similarly to the <span class="option">rd.live.check</span> boot option (see <a href="../advanced/Boot_Options.html#sect-boot-options-mediacheck" class="page">Verifying Boot Media</a>. This command requires that installations be attended, so it is disabled by default.</p>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-ostreesetup"><a class="anchor" href="#sect-kickstart-commands-ostreesetup"></a>ostreesetup (optional) - Install from an OSTree</h3>
<div class="paragraph">
<p>Used for OSTree installations. See <a href="https://wiki.gnome.org/action/show/Projects/OSTree" class="bare">https://wiki.gnome.org/action/show/Projects/OSTree</a> for more information about OSTree. Available options are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--osname=</span></dt>
<dd>
<p>Management root for OS installation (required).</p>
</dd>
<dt class="hdlist1"><span class="option">--remote=</span></dt>
<dd>
<p>Management root for OS installation (optional).</p>
</dd>
<dt class="hdlist1"><span class="option">--url=</span></dt>
<dd>
<p>Repository URL (required).</p>
</dd>
<dt class="hdlist1"><span class="option">--ref=</span></dt>
<dd>
<p>Name of branch inside the repository (required).</p>
</dd>
<dt class="hdlist1"><span class="option">--nogpg</span></dt>
<dd>
<p>Disable GPG key verification (optional).</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-repo"><a class="anchor" href="#sect-kickstart-commands-repo"></a>repo (optional) - Configure Additional Repositories</h3>
<div class="paragraph">
<p>Configures additional <strong class="application">DNF</strong> repositories that may be used as sources for package installation. This command can be used multiple times in a single Kickstart file.</p>
</div>
<div class="paragraph">
<p>See the <em class="citetitle">Fedora System Administrator&#8217;s Guide</em>, available at <a href="https://docs.fedoraproject.org/" class="bare">https://docs.fedoraproject.org/</a>, for information about the <strong class="application">DNF</strong> package manager.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Repositories used for installation must be stable. The installation may fail if a repository is modified before the installation concludes.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--name=</span></dt>
<dd>
<p>The repository ID. This option is required. If a repository has a name which conflicts with another previously added repository, it will be ignored. Because the installation program uses a list of pre-configured repositories, this means that you cannot add repositories with the same names as the preconfigured ones.</p>
</dd>
<dt class="hdlist1"><span class="option">--baseurl=</span></dt>
<dd>
<p>The repository URL. The variables that may be used in <strong class="application">DNF</strong> repo configuration files are <strong>not</strong> supported. You may use one of either this option or <span class="option">--mirrorlist</span>, not both.</p>
</dd>
<dt class="hdlist1"><span class="option">--mirrorlist=</span></dt>
<dd>
<p>The URL pointing at a list of mirrors for the repository. The variables that may normally be used in dnf repository configuration files are not supported here. You may use one of either this option or --baseurl, not both.</p>
</dd>
<dt class="hdlist1"><span class="option">--install</span></dt>
<dd>
<p>Make the repository configured in the Kickstart file available on the system after the installation as well. Creates a configuration file for the repository in <code>/etc/yum.repos.d/</code> on the installed system.</p>
</dd>
<dt class="hdlist1"><span class="option">--cost=</span></dt>
<dd>
<p>An integer value to assign a cost to this repository. If multiple repositories provide the same packages, this number will be used to prioritize which repository will be used before another. Repositories with a lower cost take priority over repositories with higher cost.</p>
</dd>
<dt class="hdlist1"><span class="option">--excludepkgs=</span></dt>
<dd>
<p>A comma-separated list of package names that must <strong>not</strong> be pulled from this repository. This is useful if multiple repositories provide the same package and you want to make sure it comes from a particular repository. Both full package names (such as <code>publican</code>) and globs (such as <code>gnome-*</code>) are accepted.</p>
</dd>
<dt class="hdlist1"><span class="option">--includepkgs=</span></dt>
<dd>
<p>A comma-separated list of package names and globs that must be pulled from this repository. This is useful if multiple repositories provide the same package and you want to make sure it comes from this repository.</p>
</dd>
<dt class="hdlist1"><span class="option">--proxy=</span></dt>
<dd>
<p>Specify an <code>HTTP</code>, <code>HTTPS</code> or <code>FTP</code> proxy server to use when accessing this repository. This setting does not affect any other repositories or installation sources.</p>
</dd>
<dt class="hdlist1"><span class="option">--ignoregroups=true</span></dt>
<dd>
<p>This option is used when composing installation trees and has no effect on the installation process itself. It tells the compose tools to not look at the package group information when mirroring trees so as to avoid mirroring large amounts of unnecessary data.</p>
</dd>
<dt class="hdlist1"><span class="option">--noverifyssl</span></dt>
<dd>
<p>Disable SSL verification when connecting to an <code>HTTPS</code> server.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-url"><a class="anchor" href="#sect-kickstart-commands-url"></a>url (optional) - Install from an installation tree on a remote server via FTP or HTTP.</h3>
<div class="paragraph">
<p>Install from an installation tree on a remote server via FTP or HTTP.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--proxy=</span></dt>
<dd>
<p>Specify an HTTP/HTTPS/FTP proxy to use while performing the install. The various parts of the argument act like you would expect. The syntax is:</p>
<div class="listingblock">
<div class="content">
<pre>[protocol://][username[:password]@]host[:port]</pre>
</div>
</div>
</dd>
<dt class="hdlist1"><span class="option">--noverifyssl</span></dt>
<dd>
<p>For a tree on a HTTPS server do not check the server’s certificate with what well-known CA validate and do not check the server’s host name matches the certificate’s domain name.</p>
</dd>
<dt class="hdlist1"><span class="option">--url=</span></dt>
<dd>
<p>The URL to install from. Variable substitution is done for <code>$releasever</code> and <code>$basearch</code> in the URL.</p>
</dd>
<dt class="hdlist1"><span class="option">--mirrorlist=</span></dt>
<dd>
<p>The mirror URL to install from. Variable substitution is done for <code>$releasever</code> and <code>$basearch</code> in the URL.</p>
</dd>
<dt class="hdlist1"><span class="option">--metalink=</span></dt>
<dd>
<p>The metalink URL to install from. Variable substitution is done for <code>$releasever</code> and <code>$basearch</code> in the URL.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sect-kickstart-commands-storage"><a class="anchor" href="#sect-kickstart-commands-storage"></a>Storage and Partitioning</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Commands in this section are used to determine your system&#8217;s storage options and partitioning.</p>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-autopart"><a class="anchor" href="#sect-kickstart-commands-autopart"></a>autopart (optional) - Automatic Partitioning</h3>
<div class="paragraph">
<p>Automatically creates partitions: a root (<code>/</code>) partition (1 GB or larger), a <code>swap</code> partition, and an appropriate <code>/boot</code> partition for the architecture. On large enough drives (50&#160;GB and larger), this also creates a <code>/home</code> partition.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <span class="command">autopart</span> option cannot be used together with the <span class="command">part/partition</span>, <span class="command">raid</span>, <span class="command">logvol</span>, or <span class="command">volgroup</span> options in the same Kickstart file.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--type=</span></dt>
<dd>
<p>Selects one of the predefined automatic partitioning schemes you want to use. Accepts the following values:</p>
<div class="ulist">
<ul>
<li>
<p><code>lvm</code>: The LVM partitioning scheme.</p>
</li>
<li>
<p><code>btrfs</code>: The Btrfs partitioning scheme.</p>
</li>
<li>
<p><code>plain</code>: Regular partitions with no LVM or Btrfs.</p>
</li>
<li>
<p><code>thinp</code>: The LVM Thin Provisioning partitioning scheme.</p>
<div class="paragraph">
<p>The created partitioning scheme will follow the recommended scheme described at <a href="../install/Installing_Using_Anaconda.html#sect-installation-gui-manual-partitioning-recommended" class="page">Recommended Partitioning Scheme</a>.</p>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><span class="option">--fstype=</span></dt>
<dd>
<p>Specify a supported file system (such as <code>ext4</code> or <code>xfs</code>) to replace the default when doing automatic partitioning.</p>
</dd>
<dt class="hdlist1"><span class="option">--nolvm</span></dt>
<dd>
<p>Do not use LVM or Btrfs for automatic partitioning. This option is equal to <span class="option">--type=plain</span>.</p>
</dd>
<dt class="hdlist1"><span class="option">--encrypted</span></dt>
<dd>
<p>Encrypts all partitions. This is equivalent to checking the <code>Encrypt partitions</code> check box on the initial partitioning screen during a manual graphical installation.</p>
</dd>
<dt class="hdlist1"><span class="option">--passphrase=</span></dt>
<dd>
<p>Provides a default system-wide passphrase for all encrypted devices.</p>
</dd>
<dt class="hdlist1"><span class="option">--escrowcert=<em>URL_of_X.509_certificate</em></span></dt>
<dd>
<p>Stores data encryption keys of all encrypted volumes as files in <code>/root</code>, encrypted using the X.509 certificate from the URL specified with <em>URL_of_X.509_certificate</em>. The keys are stored as a separate file for each encrypted volume. This option is only meaningful if <span class="option">--encrypted</span> is specified.</p>
</dd>
<dt class="hdlist1"><span class="option">--backuppassphrase</span></dt>
<dd>
<p>Adds a randomly-generated passphrase to each encrypted volume. Store these passphrases in separate files in <code>/root</code>, encrypted using the X.509 certificate specified with <span class="option">--escrowcert</span>. This option is only meaningful if <span class="option">--escrowcert</span> is specified.</p>
</dd>
<dt class="hdlist1"><span class="option">--cipher=</span></dt>
<dd>
<p>Specifies which type of encryption will be used if the <strong class="application">Anaconda</strong> default <code>aes-xts-plain64</code> is not satisfactory. You must use this option together with the <span class="option">--encrypted</span> option; by itself it has no effect. Available types of encryption are listed in the <em class="citetitle">Fedora Security Guide</em>, available at <a href="https://docs.fedoraproject.org/" class="bare">https://docs.fedoraproject.org/</a>. Using either <code>aes-xts-plain64</code> or <code>aes-cbc-essiv:sha256</code> is strongly recommended.</p>
</dd>
<dt class="hdlist1"><span class="option">--luks-version=</span></dt>
<dd>
<p>Specifies which version of LUKS should be used to encrypt the system. Only relevant if <span class="option">--encrypted</span> is also specified.</p>
</dd>
<dt class="hdlist1"><span class="option">--pbkdf=</span></dt>
<dd>
<p>Sets Password-Based Key Derivation Function (PBKDF) algorithm for the LUKS keyslot. Only relevant if <span class="option">--encrypted</span> is also specified. See the <code>cryptsetup(8)</code> man page for more information.</p>
</dd>
<dt class="hdlist1"><span class="option">pbkdf-memory=</span></dt>
<dd>
<p>Sets the memory cost for PBKDF. Only relevant if <span class="option">--encrypted</span> is also specified. See the <code>cryptsetup(8)</code> man page for more information.</p>
</dd>
<dt class="hdlist1"><span class="option">pbkdf-time=</span></dt>
<dd>
<p>Sets the number of miliseconds to spend with PBKDF passphrase processing. Only relevant if <span class="option">--encrypted</span> is also specified. See information about the <span class="option">--iter-time</span> option in the <code>cryptsetup(8)</code> man page for more information.</p>
<div class="paragraph">
<p>Only one of <span class="option">--pbkdf-time=</span> or <span class="option">--pbkdf-iterations=</span> can be specified at the same time.</p>
</div>
</dd>
<dt class="hdlist1"><span class="option">pbkdf-iterations=</span></dt>
<dd>
<p>Sets the number of iterations for passphrase processing directly, and avoids PBKDF benchmark. Only relevant if <span class="option">--encrypted</span> is also specified. See information about the <span class="option">--pbkdf-force-iterations</span> option in the <code>cryptsetup(8)</code> man page for more information.</p>
<div class="paragraph">
<p>Only one of <span class="option">--pbkdf-time=</span> or <span class="option">--pbkdf-iterations=</span> can be specified at the same time.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-bootloader"><a class="anchor" href="#sect-kickstart-commands-bootloader"></a>bootloader (required) - Configure Boot Loader</h3>
<div class="paragraph">
<p>Specifies how the boot loader should be installed.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You should always use a password to protect your boot loader. An unprotected boot loader can allow a potential attacker to modify the system&#8217;s boot options and gain unauthorized access to the system.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Some systems require a special partition for installing the boot loader. The type and size of this partition depends on whether the disk you are installing the boot loader to uses the <em>Master Boot Record</em> (MBR) or a <em>GUID Partition Table</em> (GPT) schema. For more information, see <a href="../install/Installing_Using_Anaconda.html#sect-installation-gui-storage-partitioning-bootloader" class="page">Boot Loader Installation</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--append=</span></dt>
<dd>
<p>Specifies additional kernel parameters. To specify multiple parameters, separate them with spaces. For example:</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">bootloader --location=mbr --append="hdd=ide-scsi ide=nodma"</span></pre>
</div>
</div>
<div class="paragraph">
<p>The <span class="option">rhgb</span> and <span class="option">quiet</span> parameters are always used, even if you do not specify them here or do not use the <span class="option">--append=</span> command at all.</p>
</div>
</dd>
<dt class="hdlist1"><span class="option">--boot-drive=</span></dt>
<dd>
<p>Specifies which drive the boot loader should be written to, and therefore which drive the computer will boot from. If you use a multipath device as the boot drive, specify only one member of the device.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <span class="option">--boot-drive=</span> option is currently being ignored in Fedora installations on IBM System&#160;z systems using the <strong class="application">zipl</strong> boot loader. When <strong class="application">zipl</strong> is installed, it determines the boot drive on its own.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Not</strong> specifying this option will result in the following behavior:</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If the <span class="option">--driveorder=</span> option was used, <strong class="application">Anaconda</strong> will install the boot loader on the first valid device specified in the drive order.</p>
</li>
<li>
<p>The first present and valid disk containing a <code>/boot</code> partition will be used.</p>
</li>
<li>
<p>If none of the above applies, then the first valid storage device from the list of all detected devices will be used to install the boot loader.</p>
</li>
</ol>
</div>
</dd>
<dt class="hdlist1"><span class="option">--leavebootorder</span></dt>
<dd>
<p>Prevents the installation program from making changes to the existing list of bootable images on UEFI or ISeries/PSeries systems.</p>
</dd>
<dt class="hdlist1"><span class="option">--driveorder=</span></dt>
<dd>
<p>Specifies which drive is first in the BIOS boot order. For example:</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">bootloader --driveorder=sda,hda</span></pre>
</div>
</div>
</dd>
<dt class="hdlist1"><span class="option">--location=</span></dt>
<dd>
<p>Specifies where the boot record is written. Valid values are the following:</p>
<div class="ulist">
<ul>
<li>
<p><code>mbr</code> - The default option. Depends on whether the drive uses the Master Boot Record (MBR) or GUID Partition Table (GPT) scheme:</p>
<div class="ulist">
<ul>
<li>
<p>On a GPT-formatted disk, this option will install stage 1.5 of the boot loader into the BIOS boot partition.</p>
</li>
<li>
<p>On an MBR-formatted disk, stage 1.5 will be installed into the empty space between the MBR and the first partition.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>partition</code> - Install the boot loader on the first sector of the partition containing the kernel.</p>
</li>
<li>
<p><code>none</code> - Do not install the boot loader.</p>
<div class="paragraph">
<p>In most cases, this option does not need to be specified.</p>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><span class="option">--password=</span></dt>
<dd>
<p>If using <strong class="application">GRUB2</strong> as the boot loader, sets the boot loader password to the one specified with this option. This should be used to restrict access to the <strong class="application">GRUB2</strong> shell, where arbitrary kernel options can be passed.</p>
<div class="paragraph">
<p>If a password is specified, <strong class="application">GRUB2</strong> will also ask for a user name. The user name is always <code>root</code>.</p>
</div>
</dd>
<dt class="hdlist1"><span class="option">--iscrypted</span></dt>
<dd>
<p>Normally, when you specify a boot loader password using the <span class="option">--password=</span> option, it will be stored in the Kickstart file in plain text. If you want to encrypt the password, use this option and an encrypted password.</p>
<div class="paragraph">
<p>To generate an encrypted password, use the <span class="command">grub2-mkpasswd-pbkdf2</span> command, enter the password you want to use, and copy the command&#8217;s output (the hash starting with <code>grub.pbkdf2</code>) into the Kickstart file. An example <span class="command">bootloader</span> Kickstart entry with an encrypted password will look similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">bootloader --iscrypted --password=grub.pbkdf2.sha512.10000.5520C6C9832F3AC3D149AC0B24BE69E2D4FB0DBEEDBD29CA1D30A044DE2645C4C7A291E585D4DC43F8A4D82479F8B95CA4BA4381F8550510B75E8E0BB2938990.C688B6F0EF935701FF9BD1A8EC7FE5BD2333799C98F28420C5CC8F1A2A233DE22C83705BB614EA17F3FDFDF4AC2161CEA3384E56EB38A2E39102F5334C47405E</span></pre>
</div>
</div>
</dd>
<dt class="hdlist1"><span class="option">--timeout=</span></dt>
<dd>
<p>Specifies the amount of time the boot loader will wait before booting the default option (in seconds).</p>
</dd>
<dt class="hdlist1"><span class="option">--default=</span></dt>
<dd>
<p>Sets the default boot image in the boot loader configuration.</p>
</dd>
<dt class="hdlist1"><span class="option">--extlinux</span></dt>
<dd>
<p>Use the <strong class="application">extlinux</strong> boot loader instead of <strong class="application">GRUB2</strong>. This option only works on systems supported by <strong class="application">extlinux</strong>.</p>
</dd>
<dt class="hdlist1"><span class="option">--disabled</span></dt>
<dd>
<p>Do not attempt to install a boot loader. This option overrides all other boot loader configuration; all other boot loader options will be ignored and no boot loader packages will be installed.</p>
</dd>
<dt class="hdlist1"><span class="option">--nombr</span></dt>
<dd>
<p>Install the boot loader configuration and support files, but do not modify the MBR.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-btrfs"><a class="anchor" href="#sect-kickstart-commands-btrfs"></a>btrfs (optional) - Create Btrfs Volume or Subvolume</h3>
<div class="paragraph">
<p>Create a Btrfs volume or subvolume. For a volume, the syntax is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">btrfs <em>mntpoint</em> --data=<em>level</em> --metadata=<em>level</em> [--label=] <em>partitions</em></span></pre>
</div>
</div>
<div class="paragraph">
<p>One or more partitions can be specified in <em>partitions</em>. When specifying more than one partitions, the entries must be separated by a single space. See <a href="#exam-kickstart-create-btrfs">Creating Btrfs Volumes and Subvolumes</a> for a demonstration.</p>
</div>
<div class="paragraph">
<p>For a subvolume, the syntax is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">btrfs <em>mntpoint</em> --subvol --name=<em>name</em> <em>parent</em></span></pre>
</div>
</div>
<div class="paragraph">
<p><em>parent</em> should be the identifier of the subvolume&#8217;s parent volume, <em>name</em> with a name for the subvolume, and <em>mntpoint</em> is the location where the file system is mounted.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--data=</span></dt>
<dd>
<p>RAID level to use for file system <strong>data</strong> (such as <code>0</code>, <code>1</code>, or <code>10</code>). This parameter is optional, has no meaning for subvolumes, and requires more than one physical disk.</p>
</dd>
<dt class="hdlist1"><span class="option">--metadata=</span></dt>
<dd>
<p>RAID level to use for file system/volume <strong>metadata</strong> (such as <code>0</code>, <code>1</code>, or <code>10</code>). This parameter is optional, has no meaning for subvolumes, and requires more than one physical disk.</p>
</dd>
<dt class="hdlist1"><span class="option">--label=</span></dt>
<dd>
<p>Specify a label for the Btrfs file system. If the given label is already in use by another file system, a new label will be created. This option has no meaning for subvolumes.</p>
</dd>
<dt class="hdlist1"><span class="option">--subvol</span></dt>
<dd>
<p>Create a Btrfs subvolume instead of a volume.</p>
</dd>
<dt class="hdlist1"><span class="option">--name=</span></dt>
<dd>
<p>Set a name for a Btrfs subvolume.</p>
</dd>
<dt class="hdlist1"><span class="option">--noformat</span> or <span class="option">--useexisting</span></dt>
<dd>
<p>Use an existing Btrfs volume (or subvolume) and do not reformat the file system.</p>
</dd>
<dt class="hdlist1"><span class="option">--mkfsoptions=</span></dt>
<dd>
<p>Specifies additional parameters to be passed to the program that makes a filesystem on this volume or subvolume. No processing is done on the list of arguments, so they must be supplied in a format that can be passed directly to the mkfs program. This means multiple options should be comma-separated or surrounded by double quotes, depending on the filesystem.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The following example shows how to create a Btrfs volume from member partitions on three disks with subvolumes for <code>/</code> and <code>/home</code>. The main volume is not mounted or used directly in this example.</p>
</div>
<div id="exam-kickstart-create-btrfs" class="exampleblock">
<div class="title">Example 1. Creating Btrfs Volumes and Subvolumes</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre><span class="command">part btrfs.01 --size=6000 --ondisk=sda</span>
<span class="command">part btrfs.02 --size=6000 --ondisk=sdb</span>
<span class="command">part btrfs.03 --size=6000 --ondisk=sdc</span>

<span class="command">btrfs none --data=0 --metadata=1 --label=f30 btrfs.01 btrfs.02 btrfs.03</span>
<span class="command">btrfs / --subvol --name=root LABEL=f30</span>
<span class="command">btrfs /home --subvol --name=home f30</span></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-clearpart"><a class="anchor" href="#sect-kickstart-commands-clearpart"></a>clearpart (optional) - Remove All Existing Partitions</h3>
<div class="paragraph">
<p>Removes partitions from the system, prior to creation of new partitions. By default, no partitions are removed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If the <span class="command">clearpart</span> command is used, then the <span class="command">part --onpart</span> command cannot be used on a logical partition.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For a detailed example of partitioning including the <span class="command">clearpart</span> command, see <a href="#sect-kickstart-example-advanced-partitioning">Advanced Partitioning Example</a>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--all</span></dt>
<dd>
<p>Erases all partitions from the system.</p>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This option will erase all disks which can be reached by the installer, including any attached network storage. Use this option with caution.</p>
</div>
</td>
</tr>
</table>
</div>
</dd>
<dt class="hdlist1"><span class="option">--drives=</span></dt>
<dd>
<p>Specifies which drives to clear partitions from. For example, the following clears all the partitions on the first two drives on the primary IDE controller:</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">clearpart --drives=hda,hdb --all</span></pre>
</div>
</div>
<div class="paragraph">
<p>To clear a multipath device, use the format <code>disk/by-id/scsi-<em>WWID</em></code>, where <em>WWID</em> is the <em>world-wide identifier</em> for the device. For example, to clear a disk with WWID <code>58095BEC5510947BE8C0360F604351918</code>, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">clearpart --drives=disk/by-id/scsi-58095BEC5510947BE8C0360F604351918</span></pre>
</div>
</div>
<div class="paragraph">
<p>This format is preferable for all multipath devices, but if errors arise, multipath devices that do not use <em>logical volume management</em> (LVM) can also be cleared using the format <code>disk/by-id/dm-uuid-mpath-<em>WWID</em></code>, where <em>WWID</em> is the <em>world-wide identifier</em> for the device. For example, to clear a disk with WWID <code>2416CD96995134CA5D787F00A5AA11017</code>, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">clearpart --drives=disk/by-id/dm-uuid-mpath-2416CD96995134CA5D787F00A5AA11017</span></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Never specify multipath devices by device names like <code>mpatha</code>. Device names such as this are not specific to a particular disk. The disk named <code>/dev/mpatha</code> during installation might not be the one that you expect it to be. Therefore, the <span class="command">clearpart</span> command could target the wrong disk.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Starting with Fedora 25, you can combine multiple ways of specifying storage targets in one command, using the pipe ("<code>|</code>") as a delimiter. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>clearpart --drives=sd*|hd*|vda,/dev/vdc</pre>
</div>
</div>
<div class="paragraph">
<p>The above will match either of <code>sd*</code>, <code>hd*</code>, <strong>or</strong> <code>vda</code> <strong>and</strong> <code>/dev/vdc</code>. Variants are processed from left to right, and at least one of them must match for the command to succeed.</p>
</div>
</dd>
<dt class="hdlist1"><span class="option">--list=</span></dt>
<dd>
<p>Specifies which partitions to clear. This option overrides the <span class="option">--all</span> and <span class="option">--linux</span> options if used. Can be used across different drives. For example:</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">clearpart --list=sda2,sda3,sdb1</span></pre>
</div>
</div>
</dd>
<dt class="hdlist1"><span class="option">--disklabel=</span></dt>
<dd>
<p>Create a set disk label when relabeling a disk.</p>
</dd>
<dt class="hdlist1"><span class="option">--linux</span></dt>
<dd>
<p>Erases all Linux partitions.</p>
</dd>
<dt class="hdlist1"><span class="option">--none</span></dt>
<dd>
<p>Do not remove any partitions. This is the default behavior - using this option is the same as not using the <span class="command">clearpart</span> command at all.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Using the <span class="command">clearpart --all</span> command in a Kickstart file to remove all existing partitions during the installation will cause <strong class="application">Anaconda</strong> to pause and prompt you for a confirmation. If you need to perform the installation automatically with no interaction, add the <span class="command">zerombr</span> command to your Kickstart file.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-fcoe"><a class="anchor" href="#sect-kickstart-commands-fcoe"></a>fcoe (optional) - Configure Fibre Channel Over Ethernet Devices</h3>
<div class="paragraph">
<p>Specify which FCoE devices should be activated automatically in addition to those discovered by <em>Enhanced Disk Drive Services</em> (EDD).</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">fcoe --nic=<em>name</em> [--dcp= | --autovlan]</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--nic=</span> (required)</dt>
<dd>
<p>Name of the device to be activated.</p>
</dd>
<dt class="hdlist1"><span class="option">--dcb=</span></dt>
<dd>
<p>Establish <em>Data Center Bridging</em> (DCB) settings.</p>
</dd>
<dt class="hdlist1"><span class="option">--autovlan</span></dt>
<dd>
<p>Discover VLANs automatically.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-ignoredisk"><a class="anchor" href="#sect-kickstart-commands-ignoredisk"></a>ignoredisk (optional) - Ignore Specified Disks</h3>
<div class="paragraph">
<p>Causes the installation program to ignore the specified disks. This is useful if you use autopartition and want to be sure that some disks are ignored. For example, without <span class="command">ignoredisk</span>, attempting to deploy on a SAN cluster the Kickstart would fail, as the installation program detects passive paths to the SAN that return no partition table.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">ignoredisk --drives= | --only-use= [--interactive]</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--drives=</span></dt>
<dd>
<p>Specify one or more drives to ignore. Multiple drives can be specified as a comma-separated list. For example:</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">ignoredisk --drives=sda,sdc</span></pre>
</div>
</div>
<div class="paragraph">
<p>To ignore a multipath device that does not use <em>logical volume management</em> (LVM), use the format <code>disk/by-id/dm-uuid-mpath-<em>WWID</em></code>, where <em>WWID</em> is the <em>world-wide identifier</em> for the device. For example, to ignore a disk with WWID <code>2416CD96995134CA5D787F00A5AA11017</code>, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">ignoredisk --drives=disk/by-id/dm-uuid-mpath-2416CD96995134CA5D787F00A5AA11017</span></pre>
</div>
</div>
<div class="paragraph">
<p>Multipath devices that use LVM are not assembled until after <strong class="application">Anaconda</strong> has parsed the Kickstart file. Therefore, you cannot specify these devices in the format <code>dm-uuid-mpath</code>. Instead, to ignore a multipath device that uses LVM, use the format <code>disk/by-id/scsi-<em>WWID</em></code>, where <em>WWID</em> is the <em>world-wide identifier</em> for the device. For example, to ignore a disk with WWID <code>58095BEC5510947BE8C0360F604351918</code>, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">ignoredisk --drives=disk/by-id/scsi-58095BEC5510947BE8C0360F604351918</span></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Never specify multipath devices by device names like <code>mpatha</code>. Device names such as this are not specific to a particular disk. The disk named <code>/dev/mpatha</code> during installation might not be the one that you expect it to be. Therefore, the <span class="command">clearpart</span> command could target the wrong disk.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Starting with Fedora 25, you can combine multiple ways of specifying storage targets in one command, using the pipe ("<code>|</code>") as a delimiter. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ignoredisk --drives=sd*|hd*|vda,/dev/vdc</pre>
</div>
</div>
<div class="paragraph">
<p>The above will match either of <code>sd*</code>, <code>hd*</code>, <strong>or</strong> <code>vda</code> <strong>and</strong> <code>/dev/vdc</code>. Variants are processed from left to right, and at least one of them must match for the command to succeed.</p>
</div>
</dd>
<dt class="hdlist1"><span class="option">--only-use=</span></dt>
<dd>
<p>Specifies a list of disks for the installation program to use. All other disks are ignored. For example, to use disk <code>sda</code> during installation and ignore all other disks:</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">ignoredisk --only-use=sda</span></pre>
</div>
</div>
<div class="paragraph">
<p>To include a multipath device that does not use LVM:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">ignoredisk --only-use=disk/by-id/dm-uuid-mpath-2416CD96995134CA5D787F00A5AA11017</span></pre>
</div>
</div>
<div class="paragraph">
<p>To include a multipath device that uses LVM:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">ignoredisk --only-use=disk/by-id/scsi-58095BEC5510947BE8C0360F604351918</span></pre>
</div>
</div>
</dd>
<dt class="hdlist1"><span class="option">--interactive</span></dt>
<dd>
<p>Allows you to manually navigate the advanced storage screen.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-iscsi"><a class="anchor" href="#sect-kickstart-commands-iscsi"></a>iscsi (optional) - Configure iSCSI Devices</h3>
<div class="paragraph">
<p>Specifies additional iSCSI storage to be attached during installation. If you use the <span class="command">iscsi</span> command, you must also assign a name to the iSCSI node, using the <span class="command">iscsiname</span> command (see <a href="#sect-kickstart-commands-iscsiname">iscsiname (optional) - Assign Name to iSCSI Device</a>. The <span class="command">iscsiname</span> command must appear before the <span class="command">iscsi</span> command in the Kickstart file.</p>
</div>
<div class="paragraph">
<p>You should configure iSCSI storage in the system BIOS or firmware (iBFT for Intel systems) rather than use the <span class="command">iscsi</span> command if possible. If you do so, <strong class="application">Anaconda</strong> automatically detects and uses disks configured in BIOS or firmware and no special configuration is necessary in the Kickstart file.</p>
</div>
<div class="paragraph">
<p>If you must use the <span class="command">iscsi</span> command, make sure that networking is activated at the beginning of the installation, and that the <span class="command">iscsi</span> command appears in the Kickstart file <strong>before</strong> you refer to iSCSI disks with commands such as <span class="command">clearpart</span> or <span class="command">ignoredisk</span>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">iscsi --ipaddr=  --port=  [--target= | --iface= | --user= | --password= | --reverse-user= | --reverse-password=]</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--ipaddr=</span></dt>
<dd>
<p>The IP address of the target to connect to.</p>
</dd>
<dt class="hdlist1"><span class="option">--port=</span></dt>
<dd>
<p>The port number (typically <code>3260</code>).</p>
</dd>
<dt class="hdlist1"><span class="option">--target=</span></dt>
<dd>
<p>Target <em>IQN</em> (iSCSI Qualified Name).</p>
</dd>
<dt class="hdlist1"><span class="option">--iface=</span></dt>
<dd>
<p>Bind the connection to a specific network interface instead of using the default one determined by the network layer. Once used, it must be specified in all instances of the <span class="command">iscsi</span> command in the entire Kickstart file.</p>
</dd>
<dt class="hdlist1"><span class="option">--user=</span></dt>
<dd>
<p>User name required to authenticate with the target.</p>
</dd>
<dt class="hdlist1"><span class="option">--password=</span></dt>
<dd>
<p>Password that corresponds with the user name specified for the target.</p>
</dd>
<dt class="hdlist1"><span class="option">--reverse-user=</span></dt>
<dd>
<p>User name required to authenticate with the initiator from a target using reverse CHAP authentication.</p>
</dd>
<dt class="hdlist1"><span class="option">--reverse-password=</span></dt>
<dd>
<p>Password that corresponds with the user name specified for the initiator.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-iscsiname"><a class="anchor" href="#sect-kickstart-commands-iscsiname"></a>iscsiname (optional) - Assign Name to iSCSI Device</h3>
<div class="paragraph">
<p>Assigns a name to an iSCSI node specified by the <span class="command">iscsi</span> command (<a href="#sect-kickstart-commands-iscsi">iscsi (optional) - Configure iSCSI Devices</a>). This command is mandatory if you use the <span class="command">iscsi</span> command, and it must be specified <strong>before</strong> you use <span class="command">iscsi</span>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">iscsiname <em>iqn</em></span></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-logvol"><a class="anchor" href="#sect-kickstart-commands-logvol"></a>logvol (optional) - Create LVM Logical Volume</h3>
<div class="paragraph">
<p>Create a logical volume for Logical Volume Management (LVM) with the syntax:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">logvol <em>mntpoint</em> --vgname=  --name= [<em>options</em>]</span></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Do not use the dash (<code>-</code>) character in logical volume and volume group names when installing Fedora using Kickstart. If this character is used, the installation will finish normally, but the <code>/dev/mapper/</code> directory will list these volumes and volume groups with every dash doubled. For example, a volume group named <code>volgrp-01</code> containing a logical volume named <code>logvol-01</code> will be listed as <code>/dev/mapper/volgrp&#8212;&#8203;01-logvol&#8212;&#8203;01</code>.</p>
</div>
<div class="paragraph">
<p>This limitation only applies to newly created logical volume and volume group names. If you are reusing existing ones using the <span class="option">--noformat</span> or <span class="option">--useexisting</span> option, their names will not be changed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For a detailed example of <span class="command">logvol</span> in action, see <a href="#sect-kickstart-example-advanced-partitioning">Advanced Partitioning Example</a>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>mntpoint</em></dt>
<dd>
<p>Replace with the volume&#8217;s mount point. This name can take the following forms:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>/<em>path</em></code></dt>
<dd>
<p>A path to the mount point - for example, <code>/</code> or <code>/home</code></p>
</dd>
<dt class="hdlist1"><code>swap</code></dt>
<dd>
<p>The partition is used as swap space.</p>
<div class="paragraph">
<p>To determine the size of the swap partition automatically, use the <span class="option">--recommended</span> option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><code>swap --recommended</code></pre>
</div>
</div>
<div class="paragraph">
<p>To determine the size of the swap partition automatically but also allow extra space for your system to hibernate, use the <span class="option">--hibernation</span> option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><code>swap --hibernation</code></pre>
</div>
</div>
<div class="paragraph">
<p>The size assigned will be equivalent to the swap space assigned by <span class="option">--recommended</span> plus the amount of RAM on your system.</p>
</div>
<div class="paragraph">
<p>For the swap sizes assigned by these commands, see the section describing swap in <a href="../install/Installing_Using_Anaconda.html#sect-installation-gui-manual-partitioning-recommended" class="page">Recommended Partitioning Scheme</a>.</p>
</div>
</dd>
<dt class="hdlist1"><code>none</code></dt>
<dd>
<p>Used only when creating a thin pool volume.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><span class="option">--noformat</span></dt>
<dd>
<p>Use an existing logical volume and do not format it.</p>
</dd>
<dt class="hdlist1"><span class="option">--useexisting</span></dt>
<dd>
<p>Use an existing logical volume and format it.</p>
</dd>
<dt class="hdlist1"><span class="option">--fstype=</span></dt>
<dd>
<p>Sets the file system type for the logical volume. Valid values are <code>xfs</code>, <code>ext2</code>, <code>ext3</code>, <code>ext4</code>, <code>swap</code>, and <code>vfat</code>. See <a href="../install/Installing_Using_Anaconda.html#sect-installation-gui-manual-partitioning-filesystems" class="page">Device, File System and RAID Types</a> for information about available file systems.</p>
</dd>
<dt class="hdlist1"><span class="option">--fsoptions=</span></dt>
<dd>
<p>Specifies a free form string of options to be used when mounting the filesystem. This string will be copied into the <code>/etc/fstab</code> file of the installed system and should be enclosed in quotes. For example:</p>
<div class="listingblock">
<div class="content">
<pre><span class="option">--fsoptions="ro, x-systemd.device-timeout=0"</span></pre>
</div>
</div>
</dd>
<dt class="hdlist1"><span class="option">--mkfsoptions=</span></dt>
<dd>
<p>Specifies additional parameters to be passed to the program that makes a filesystem on this logical volume. No processing is done on the list of arguments, so they must be supplied in a format that can be passed directly to the mkfs program. This means multiple options should be comma-separated or surrounded by double quotes, depending on the filesystem.</p>
</dd>
<dt class="hdlist1"><span class="option">--label=</span></dt>
<dd>
<p>Sets a label for the logical volume.</p>
</dd>
<dt class="hdlist1"><span class="option">--grow</span></dt>
<dd>
<p>Grow the volume to fill available space (if any), or up to the limit set by the <span class="option">--maxsize=</span> option.</p>
</dd>
<dt class="hdlist1"><span class="option">--size=</span></dt>
<dd>
<p>The size of the logical volume in megabytes. This option can not be used together with the <span class="option">--percent=</span> option.</p>
</dd>
<dt class="hdlist1"><span class="option">--percent=</span></dt>
<dd>
<p>Specify the amount by which to grow the logical volume, as a percentage of the free space in the volume group after any statically-sized logical volumes are taken into account. This option can not be used together with the <span class="option">--size=</span> and <span class="option">--grow</span> options.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When creating a new logical volume, you must either specify its size statically using the <span class="option">--size=</span> option, or as a percentage of remaining free space using the <span class="option">--percent=</span> option. You can not use both of these options on the same logical volume.</p>
</div>
</td>
</tr>
</table>
</div>
</dd>
<dt class="hdlist1"><span class="option">--maxsize=</span></dt>
<dd>
<p>The maximum size in megabytes when the logical volume is set to grow. Specify an integer value here such as <code>500</code> (do not include the unit).</p>
</dd>
<dt class="hdlist1"><span class="option">--recommended</span></dt>
<dd>
<p>Use this option when creating a <code>swap</code> logical volume to determine the size of this volume automatically, based on your system&#8217;s hardware. For details about the recommended scheme, see <a href="../install/Installing_Using_Anaconda.html#sect-installation-gui-manual-partitioning-recommended" class="page">Recommended Partitioning Scheme</a>.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This option can only be used for partitions which result in a file system such as the <code>/boot</code> partition and <code>swap</code> space. It can not be used to create partitionsm, LVM physical or logical volumes or RAID members.</p>
</div>
</td>
</tr>
</table>
</div>
</dd>
<dt class="hdlist1"><span class="option">--resize</span></dt>
<dd>
<p>Resize an existing logical volume. If you use this option, you must also specify <span class="option">--useexisting</span> and <span class="option">--size</span>.</p>
</dd>
<dt class="hdlist1"><span class="option">--encrypted</span></dt>
<dd>
<p>Specifies that this logical volume should be encrypted, using the passphrase provided in the <span class="option">--passphrase=</span> option. If you do not specify a passphrase, the installation program will use the default, system-wide passphrase set with the <span class="command">autopart --passphrase</span> command, or stop the installation and prompt you to provide a passphrase if no default is set.</p>
</dd>
<dt class="hdlist1"><span class="option">--passphrase=</span></dt>
<dd>
<p>Specifies the passphrase to use when encrypting this logical volume. You must use this option together with the <span class="option">--encrypted</span> option. This option has no effect by itself.</p>
</dd>
<dt class="hdlist1"><span class="option">--cipher=</span></dt>
<dd>
<p>Specifies which type of encryption will be used if the <strong class="application">Anaconda</strong> default <code>aes-xts-plain64</code> is not satisfactory. You must use this option together with the <span class="option">--encrypted</span> option; by itself it has no effect. Available types of encryption are listed in the <em class="citetitle">Fedora Security Guide</em>, available at <a href="https://docs.fedoraproject.org/" class="bare">https://docs.fedoraproject.org/</a>. Using either <code>aes-xts-plain64</code> or <code>aes-cbc-essiv:sha256</code> is strongly recommended.</p>
</dd>
<dt class="hdlist1"><span class="option">--escrowcert=<em>URL_of_X.509_certificate</em></span></dt>
<dd>
<p>Store data encryption keys of all encrypted volumes as files in <code>/root</code>, encrypted using the X.509 certificate from the URL specified with <em>URL_of_X.509_certificate</em>. The keys are stored as a separate file for each encrypted volume. This option is only meaningful if <span class="option">--encrypted</span> is specified.</p>
</dd>
<dt class="hdlist1"><span class="option">--backuppassphrase</span></dt>
<dd>
<p>Add a randomly-generated passphrase to each encrypted volume. Store these passphrases in separate files in <code>/root</code>, encrypted using the X.509 certificate specified with <span class="option">--escrowcert</span>. This option is only meaningful if <span class="option">--escrowcert</span> is specified.</p>
</dd>
<dt class="hdlist1"><span class="option">--thinpool</span></dt>
<dd>
<p>Creates a thin pool logical volume. (Use a mount point of <code>none</code>)</p>
</dd>
<dt class="hdlist1"><span class="option">--metadatasize=</span></dt>
<dd>
<p>Metadata area size (in MiB) for a new thin pool device.</p>
</dd>
<dt class="hdlist1"><span class="option">--chunksize=</span></dt>
<dd>
<p>Chunk size (in KiB) for a new thin pool device.</p>
</dd>
<dt class="hdlist1"><span class="option">--thin</span></dt>
<dd>
<p>Create a thin logical volume. (Requires use of <span class="option">--poolname</span>)</p>
</dd>
<dt class="hdlist1"><span class="option">--poolname=</span></dt>
<dd>
<p>Specify the name of the thin pool in which to create a thin logical volume. Requires the <span class="option">--thin</span> option.</p>
</dd>
<dt class="hdlist1"><span class="option">--profile=</span></dt>
<dd>
<p>Specify the configuration profile name to use with thin logical volumes. If used, the name will also be included in the metadata for the given logical volume. By default, the available profiles are <code>default</code> and <code>thin-performance</code> and are defined in the <code>/etc/lvm/profile</code> directory. See the <code>lvm(8)</code> man page for additional information.</p>
</dd>
<dt class="hdlist1"><span class="option">--cachepvs=</span></dt>
<dd>
<p>A comma-separated list of (fast) physical volumes which should be used for LVM cache.</p>
</dd>
<dt class="hdlist1"><span class="option">--cachesize=</span></dt>
<dd>
<p>Requested size of cache attached to the logical volume, in MiB. (Requires the <span class="option">--cachepvs=</span> option.)</p>
</dd>
<dt class="hdlist1"><span class="option">--cachemode=</span></dt>
<dd>
<p>Mode to be used for LVM cache (either <code>writeback</code> or <code>writethrough</code>).</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <span class="option">--cachepvs=</span>, <span class="option">--cachesize=</span>, and <span class="option">--cachemode=</span> options listed above are used to configure LVM caching. For more information, see the <code>lvmcache(7)</code> man page.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--luks-version=</span></dt>
<dd>
<p>Specifies which version of LUKS should be used to encrypt the system. Only relevant if <span class="option">--encrypted</span> is also specified.</p>
</dd>
<dt class="hdlist1"><span class="option">--pbkdf=</span></dt>
<dd>
<p>Sets Password-Based Key Derivation Function (PBKDF) algorithm for the LUKS keyslot. Only relevant if <span class="option">--encrypted</span> is also specified. See the <code>cryptsetup(8)</code> man page for more information.</p>
</dd>
<dt class="hdlist1"><span class="option">pbkdf-memory=</span></dt>
<dd>
<p>Sets the memory cost for PBKDF. Only relevant if <span class="option">--encrypted</span> is also specified. See the <code>cryptsetup(8)</code> man page for more information.</p>
</dd>
<dt class="hdlist1"><span class="option">pbkdf-time=</span></dt>
<dd>
<p>Sets the number of miliseconds to spend with PBKDF passphrase processing. Only relevant if <span class="option">--encrypted</span> is also specified. See information about the <span class="option">--iter-time</span> option in the <code>cryptsetup(8)</code> man page for more information.</p>
<div class="paragraph">
<p>Only one of <span class="option">--pbkdf-time=</span> or <span class="option">--pbkdf-iterations=</span> can be specified at the same time.</p>
</div>
</dd>
<dt class="hdlist1"><span class="option">pbkdf-iterations=</span></dt>
<dd>
<p>Sets the number of iterations for passphrase processing directly, and avoids PBKDF benchmark. Only relevant if <span class="option">--encrypted</span> is also specified. See information about the <span class="option">--pbkdf-force-iterations</span> option in the <code>cryptsetup(8)</code> man page for more information.</p>
<div class="paragraph">
<p>Only one of <span class="option">--pbkdf-time=</span> or <span class="option">--pbkdf-iterations=</span> can be specified at the same time.</p>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Create one or more partitions first using <a href="#sect-kickstart-commands-part">part (required) - Create Physical Partition</a>, create the logical volume group (<a href="#sect-kickstart-commands-volgroup">volgroup (optional) - Create LVM Volume Group</a>), and then create logical volumes. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">part pv.01 --size 3000</span>
<span class="command">volgroup myvg pv.01</span>
<span class="command">logvol / --vgname=myvg --size=2000 --name=rootvol</span></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-part"><a class="anchor" href="#sect-kickstart-commands-part"></a>part (required) - Create Physical Partition</h3>
<div class="paragraph">
<p>Creates a partition on the system.</p>
</div>
<div class="paragraph">
<p>For a detailed example of <span class="command">part</span> in action, see <a href="#sect-kickstart-example-advanced-partitioning">Advanced Partitioning Example</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">part|partition <em>mntpoint</em> --name=<em>name</em> --device=<em>device</em> --rule=<em>rule</em> [<em>options</em>]</span></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>All partitions created are formatted as part of the installation process unless <span class="option">--noformat</span> and <span class="option">--onpart=</span> are used.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If partitioning fails for any reason, diagnostic messages appear on virtual console 3.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>mntpoint</em></dt>
<dd>
<p>Where the partition is mounted. The value must be of one of the following:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>/<em>path</em></code></dt>
<dd>
<p>A path to the mount point - for example, <code>/</code> or <code>/home</code></p>
</dd>
<dt class="hdlist1"><code>swap</code></dt>
<dd>
<p>The partition is used as swap space.</p>
<div class="paragraph">
<p>To determine the size of the swap partition automatically, use the <span class="option">--recommended</span> option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><code>swap --recommended</code></pre>
</div>
</div>
<div class="paragraph">
<p>The size assigned will be effective but not precisely calibrated for your system.</p>
</div>
<div class="paragraph">
<p>To determine the size of the swap partition automatically but also allow extra space for your system to hibernate, use the <span class="option">--hibernation</span> option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><code>swap--hibernation</code></pre>
</div>
</div>
<div class="paragraph">
<p>The size assigned will be equivalent to the swap space assigned by <span class="option">--recommended</span> plus the amount of RAM on your system.</p>
</div>
<div class="paragraph">
<p>For the swap sizes assigned by these commands, see the section describing swap in <a href="../install/Installing_Using_Anaconda.html#sect-installation-gui-manual-partitioning-recommended" class="page">Recommended Partitioning Scheme</a>.</p>
</div>
</dd>
<dt class="hdlist1"><code>raid.<em>id</em></code></dt>
<dd>
<p>The partition is used for software RAID (see <span class="command">raid</span>).</p>
</dd>
<dt class="hdlist1"><code>pv.<em>id</em></code></dt>
<dd>
<p>The partition is used for LVM (see <a href="#sect-kickstart-commands-part">part (required) - Create Physical Partition</a>).</p>
</dd>
<dt class="hdlist1"><code>biosboot</code></dt>
<dd>
<p>The partition will be used for a BIOS Boot partition. A 1 MB BIOS boot partition is necessary on BIOS-based systems using a <em>GUID Partition Table</em> (GPT); the boot loader will be installed into it. It is not necessary on UEFI systems. Also see <a href="#sect-kickstart-commands-part">part (required) - Create Physical Partition</a>.</p>
</dd>
<dt class="hdlist1"><code>/boot/efi</code></dt>
<dd>
<p>An EFI System Partition. An EFI partition at least 50 MB in size is necessary on UEFI-based systems; the recommended size is 200 MB. It is not necessary on BIOS systems. Also see <a href="#sect-kickstart-commands-part">part (required) - Create Physical Partition</a>.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><span class="option">--size=</span></dt>
<dd>
<p>The minimum partition size in megabytes. Specify an integer value here such as <code>500</code> (do not include the unit).</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If the <span class="option">--size</span> value is too small, the installation will fail. Set the <span class="option">--size</span> value as the minimum amount of space you require. For size recommendations, see <a href="../install/Installing_Using_Anaconda.html#sect-installation-gui-manual-partitioning-recommended" class="page">Recommended Partitioning Scheme</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</dd>
<dt class="hdlist1"><span class="option">--maxsize=</span></dt>
<dd>
<p>The maximum partition size in megabytes when the partition is set to grow. Specify an integer value here such as <code>500</code> (do not include the unit).</p>
</dd>
<dt class="hdlist1"><span class="option">--resize</span></dt>
<dd>
<p>Resize an existing partition. When using this option, specify the new size (in megabytes) using the <span class="option">--size=</span> option and the target partition using the <span class="option">--onpart=</span> option.</p>
</dd>
<dt class="hdlist1"><span class="option">--grow</span></dt>
<dd>
<p>Tells the partition to grow to fill available space (if any), or up to the maximum size setting.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you use <span class="option">--grow=</span> without setting <span class="option">--maxsize=</span> on a swap partition, <strong class="application">Anaconda</strong> will limit the maximum size of the swap partition. For systems that have less than 2&#160;GB of physical memory, the imposed limit is twice the amount of physical memory. For systems with more than 2&#160;GB, the imposed limit is the size of physical memory plus 2&#160;GB.</p>
</div>
</td>
</tr>
</table>
</div>
</dd>
<dt class="hdlist1"><span class="option">--noformat</span></dt>
<dd>
<p>Specifies that the partition should not be formatted, for use with the <span class="option">--onpart</span> command.</p>
</dd>
<dt class="hdlist1"><span class="option">--onpart=</span> or <span class="option">--usepart=</span></dt>
<dd>
<p>Specifies the device on which to place the partition. For example:</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">partition /home --onpart=hda1</span></pre>
</div>
</div>
<div class="paragraph">
<p>The above puts <code>/home</code> on <code>/dev/hda1</code>.</p>
</div>
<div class="paragraph">
<p>These options can also add a partition to a logical volume. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">partition pv.1 --onpart=hda2</span></pre>
</div>
</div>
<div class="paragraph">
<p>The device must already exist on the system; the <span class="option">--onpart</span> option will not create it.</p>
</div>
</dd>
<dt class="hdlist1"><span class="option">--ondisk=</span> or <span class="option">--ondrive=</span></dt>
<dd>
<p>Forces the partition to be created on a particular disk. For example, <span class="option">--ondisk=sdb</span> puts the partition on the second SCSI disk on the system.</p>
<div class="paragraph">
<p>To specify a multipath device that does not use <em>logical volume management</em> (LVM), use the format <code>disk/by-id/dm-uuid-mpath-<em>WWID</em></code>, where <em>WWID</em> is the <em>world-wide identifier</em> for the device. For example, to specify a disk with WWID <code>2416CD96995134CA5D787F00A5AA11017</code>, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">part / --fstype=xfs --grow --asprimary --size=8192 --ondisk=disk/by-id/dm-uuid-mpath-2416CD96995134CA5D787F00A5AA11017</span></pre>
</div>
</div>
<div class="paragraph">
<p>Multipath devices that use LVM are not assembled until after <strong class="application">Anaconda</strong> has parsed the Kickstart file. Therefore, you cannot specify these devices in the format <code>dm-uuid-mpath</code>. Instead, to specify a multipath device that uses LVM, use the format <code>disk/by-id/scsi-<em>WWID</em></code>, where <em>WWID</em> is the <em>world-wide identifier</em> for the device. For example, to specify a disk with WWID <code>58095BEC5510947BE8C0360F604351918</code>, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">part / --fstype=xfs --grow --asprimary --size=8192 --ondisk=disk/by-id/scsi-58095BEC5510947BE8C0360F604351918</span></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Never specify multipath devices by device names like <code>mpatha</code>. Device names such as this are not specific to a particular disk. The disk named <code>/dev/mpatha</code> during installation might not be the one that you expect it to be. Therefore, the <span class="command">clearpart</span> command could target the wrong disk.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Starting with Fedora 25, you can combine multiple ways of specifying storage targets in one command, using the pipe ("<code>|</code>") as a delimiter. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>part --onpart=sd*|hd*|vda,/dev/vdc</pre>
</div>
</div>
<div class="paragraph">
<p>The above will match either of <code>sd*</code>, <code>hd*</code>, <strong>or</strong> <code>vda</code> <strong>and</strong> <code>/dev/vdc</code>. Variants are processed from left to right, and at least one of them must match for the command to succeed.</p>
</div>
</dd>
<dt class="hdlist1"><span class="option">--asprimary</span></dt>
<dd>
<p>Forces the partition to be allocated as a <strong>primary</strong> partition. If the partition cannot be allocated as primary (usually due to too many primary partitions being already allocated), the partitioning process will fail. This option only makes sense when the disk uses a Master Boot Record (MBR); for GUID Partition Table (GPT)-labeled disks this option has no meaning. For information about primary (and extended) partitions, see <a href="../install/Installing_Using_Anaconda.html#sect-installation-gui-manual-partitioning-recommended" class="page">Recommended Partitioning Scheme</a>.</p>
</dd>
<dt class="hdlist1"><span class="option">--fsprofile=</span></dt>
<dd>
<p>Specifies a <em>usage type</em> to be passed to the program that makes a filesystem on this partition. A usage type defines a variety of tuning parameters to be used when making a filesystem. For this option to work, the filesystem must support the concept of usage types and there must be a configuration file that lists valid types. For <code>ext2</code>, <code>ext3</code>, <code>ext4</code>, this configuration file is <code>/etc/mke2fs.conf</code>.</p>
</dd>
<dt class="hdlist1"><span class="option">--fstype=</span></dt>
<dd>
<p>Sets the file system type for the partition. Valid values are <code>xfs</code>, <code>ext2</code>, <code>ext3</code>, <code>ext4</code>, <code>swap</code>, <code>vfat</code>, <code>efi</code> and <code>biosboot</code>. For information about supported file systems, see <a href="../install/Installing_Using_Anaconda.html#sect-installation-gui-manual-partitioning-filesystems" class="page">Device, File System and RAID Types</a>.</p>
</dd>
<dt class="hdlist1"><span class="option">--fsoptions=</span></dt>
<dd>
<p>Specifies a free form string of options to be used when mounting the filesystem. This string will be copied into the <code>/etc/fstab</code> file of the installed system and should be enclosed in quotes. For example:</p>
<div class="listingblock">
<div class="content">
<pre><span class="option">--fsoptions="ro, x-systemd.device-timeout=0"</span></pre>
</div>
</div>
</dd>
<dt class="hdlist1"><span class="option">--mkfsoptions=</span></dt>
<dd>
<p>Specifies additional parameters to be passed to the program that makes a filesystem on this partition. No processing is done on the list of arguments, so they must be supplied in a format that can be passed directly to the mkfs program. This means multiple options should be comma-separated or surrounded by double quotes, depending on the filesystem.</p>
</dd>
<dt class="hdlist1"><span class="option">--label=</span></dt>
<dd>
<p>Assign a label to an individual partition.</p>
</dd>
<dt class="hdlist1"><span class="option">--recommended</span></dt>
<dd>
<p>Determine the size of the partition automatically. For details about the recommended scheme, see <a href="../install/Installing_Using_Anaconda.html#sect-installation-gui-manual-partitioning-recommended" class="page">Recommended Partitioning Scheme</a>.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This option can only be used for partitions which result in a file system such as the <code>/boot</code> partition and <code>swap</code> space. It can not be used to create partitionsm, LVM physical or logical volumes or RAID members.</p>
</div>
</td>
</tr>
</table>
</div>
</dd>
<dt class="hdlist1"><span class="option">--onbiosdisk</span></dt>
<dd>
<p>Forces the partition to be created on a particular disk as discovered by the BIOS.</p>
</dd>
<dt class="hdlist1"><span class="option">--encrypted</span></dt>
<dd>
<p>Specifies that this partition should be encrypted, using the passphrase provided in the <span class="option">--passphrase</span> option. If you do not specify a passphrase, <strong class="application">Anaconda</strong> uses the default, system-wide passphrase set with the <span class="command">autopart --passphrase</span> command, or stops the installation and prompts you to provide a passphrase if no default is set.</p>
</dd>
<dt class="hdlist1"><span class="option">--passphrase=</span></dt>
<dd>
<p>Specifies the passphrase to use when encrypting this partition. You must use this option together with the <span class="option">--encrypted</span> option; by itself it has no effect.</p>
</dd>
<dt class="hdlist1"><span class="option">--cipher=</span></dt>
<dd>
<p>Specifies which type of encryption will be used if the <strong class="application">Anaconda</strong> default <code>aes-xts-plain64</code> is not satisfactory. You must use this option together with the <span class="option">--encrypted</span> option; by itself it has no effect. Available types of encryption are listed in the <em class="citetitle">Fedora Security Guide</em>, available at <a href="https://docs.fedoraproject.org/" class="bare">https://docs.fedoraproject.org/</a>. Using either <code>aes-xts-plain64</code> or <code>aes-cbc-essiv:sha256</code> is strongly recommended.</p>
</dd>
<dt class="hdlist1"><span class="option">--escrowcert=<em>URL_of_X.509_certificate</em></span></dt>
<dd>
<p>Stores data encryption keys of all encrypted volumes as files in <code>/root</code>, encrypted using the X.509 certificate from the URL specified with <em>URL_of_X.509_certificate</em>. The keys are stored as a separate file for each encrypted volume. This option is only meaningful if <span class="option">--encrypted</span> is specified.</p>
</dd>
<dt class="hdlist1"><span class="option">--backuppassphrase</span></dt>
<dd>
<p>Add a randomly-generated passphrase to each encrypted partition. Store these passphrases in separate files in <code>/root</code>, encrypted using the X.509 certificate specified with <span class="option">--escrowcert</span>. This option is only meaningful if <span class="option">--escrowcert</span> is specified.</p>
</dd>
<dt class="hdlist1"><span class="option">--luks-version=</span></dt>
<dd>
<p>Specifies which version of LUKS should be used to encrypt the system. Only relevant if <span class="option">--encrypted</span> is also specified.</p>
</dd>
<dt class="hdlist1"><span class="option">--pbkdf=</span></dt>
<dd>
<p>Sets Password-Based Key Derivation Function (PBKDF) algorithm for the LUKS keyslot. Only relevant if <span class="option">--encrypted</span> is also specified. See the <code>cryptsetup(8)</code> man page for more information.</p>
</dd>
<dt class="hdlist1"><span class="option">pbkdf-memory=</span></dt>
<dd>
<p>Sets the memory cost for PBKDF. Only relevant if <span class="option">--encrypted</span> is also specified. See the <code>cryptsetup(8)</code> man page for more information.</p>
</dd>
<dt class="hdlist1"><span class="option">pbkdf-time=</span></dt>
<dd>
<p>Sets the number of miliseconds to spend with PBKDF passphrase processing. Only relevant if <span class="option">--encrypted</span> is also specified. See information about the <span class="option">--iter-time</span> option in the <code>cryptsetup(8)</code> man page for more information.</p>
<div class="paragraph">
<p>Only one of <span class="option">--pbkdf-time=</span> or <span class="option">--pbkdf-iterations=</span> can be specified at the same time.</p>
</div>
</dd>
<dt class="hdlist1"><span class="option">pbkdf-iterations=</span></dt>
<dd>
<p>Sets the number of iterations for passphrase processing directly, and avoids PBKDF benchmark. Only relevant if <span class="option">--encrypted</span> is also specified. See information about the <span class="option">--pbkdf-force-iterations</span> option in the <code>cryptsetup(8)</code> man page for more information.</p>
<div class="paragraph">
<p>Only one of <span class="option">--pbkdf-time=</span> or <span class="option">--pbkdf-iterations=</span> can be specified at the same time.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-raid"><a class="anchor" href="#sect-kickstart-commands-raid"></a>raid (optional) - Create Software RAID</h3>
<div class="paragraph">
<p>Assembles a software RAID device. This command is of the form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>raid mntpoint --level=level --device=mddevice partitions*</pre>
</div>
</div>
<div class="paragraph">
<p>For a detailed example of <span class="command">raid</span> in action, see <a href="#sect-kickstart-example-advanced-partitioning">Advanced Partitioning Example</a>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>mntpoint</em></dt>
<dd>
<p>Location where the RAID file system is mounted. If it is <code>/</code>, the RAID level must be 1 unless a boot partition (<code>/boot</code>) is present. If a boot partition is present, the <code>/boot</code> partition must be level 1 and the root (<code>/</code>) partition can be any of the available types. The <em>partitions*</em> (which denotes that multiple partitions can be listed) lists the RAID identifiers to add to the RAID array.</p>
</dd>
<dt class="hdlist1"><span class="option">--level=</span></dt>
<dd>
<p>RAID level to use (<code>0</code>, <code>1</code>, <code>4</code>, <code>5</code>, <code>6</code>, or <code>10</code>). See <a href="../install/Installing_Using_Anaconda.html#sect-installation-gui-manual-partitioning-filesystems" class="page">Device, File System and RAID Types</a> for information about various RAID types and their requirements.</p>
</dd>
<dt class="hdlist1"><span class="option">--device=</span></dt>
<dd>
<p>Name of the RAID device to use. As of Fedora&#160;30, RAID devices are no longer referred to by names like <code>md0</code>. If you have an old (v0.90 metadata) array that you cannot assign a name to, you can specify the array by a filesystem label or UUID (for example, <span class="option">--device=rhel7-root --label=rhel7-root</span>).</p>
</dd>
<dt class="hdlist1"><span class="option">--spares=</span></dt>
<dd>
<p>Specifies the number of spare drives allocated for the RAID array. Spare drives are used to rebuild the array in case of drive failure.</p>
</dd>
<dt class="hdlist1"><span class="option">--fsprofile=</span></dt>
<dd>
<p>Specifies a <em>usage type</em> to be passed to the program that makes a filesystem on this partition. A usage type defines a variety of tuning parameters to be used when making a filesystem. For this option to work, the filesystem must support the concept of usage types and there must be a configuration file that lists valid types. For <code>ext2</code>, <code>ext3</code>, <code>ext4</code>, this configuration file is <code>/etc/mke2fs.conf</code>.</p>
</dd>
<dt class="hdlist1"><span class="option">--fstype=</span></dt>
<dd>
<p>Sets the file system type for the partition. Valid values are <code>xfs</code>, <code>ext2</code>, <code>ext3</code>, <code>ext4</code>, <code>swap</code>, <code>vfat</code>, <code>efi</code> and <code>biosboot</code>. For information about supported file systems, see <a href="../install/Installing_Using_Anaconda.html#sect-installation-gui-manual-partitioning-filesystems" class="page">Device, File System and RAID Types</a>.</p>
</dd>
<dt class="hdlist1"><span class="option">--fsoptions=</span></dt>
<dd>
<p>Specifies a free form string of options to be used when mounting the filesystem. This string will be copied into the <code>/etc/fstab</code> file of the installed system and should be enclosed in quotes. For example:</p>
<div class="listingblock">
<div class="content">
<pre><span class="option">--fsoptions="ro, x-systemd.device-timeout=0"</span></pre>
</div>
</div>
</dd>
<dt class="hdlist1"><span class="option">--mkfsoptions=</span></dt>
<dd>
<p>Specifies additional parameters to be passed to the program that makes a filesystem on this partition. No processing is done on the list of arguments, so they must be supplied in a format that can be passed directly to the mkfs program. This means multiple options should be comma-separated or surrounded by double quotes, depending on the filesystem.</p>
</dd>
<dt class="hdlist1"><span class="option">--label=</span></dt>
<dd>
<p>Specify the label to give to the filesystem to be made. If the given label is already in use by another filesystem, a new label will be created.</p>
</dd>
<dt class="hdlist1"><span class="option">--noformat</span></dt>
<dd>
<p>Use an existing RAID device and do not format it.</p>
</dd>
<dt class="hdlist1"><span class="option">--useexisting</span></dt>
<dd>
<p>Use an existing RAID device and reformat it.</p>
</dd>
<dt class="hdlist1"><span class="option">--encrypted</span></dt>
<dd>
<p>Specifies that this array should be encrypted, using the passphrase provided in the <span class="option">--passphrase</span> option. If you do not specify a passphrase, <strong class="application">Anaconda</strong> uses the default, system-wide passphrase set with the <span class="command">autopart --passphrase</span> command, or stops the installation and prompts you to provide a passphrase if no default is set.</p>
</dd>
<dt class="hdlist1"><span class="option">--passphrase=</span></dt>
<dd>
<p>Specifies the passphrase to use when encrypting this partition. You must use this option together with the <span class="option">--encrypted</span> option; by itself it has no effect.</p>
</dd>
<dt class="hdlist1"><span class="option">--cipher=</span></dt>
<dd>
<p>Specifies which type of encryption will be used if the <strong class="application">Anaconda</strong> default <code>aes-xts-plain64</code> is not satisfactory. You must use this option together with the <span class="option">--encrypted</span> option; by itself it has no effect. Available types of encryption are listed in the <em class="citetitle">Fedora Security Guide</em>, available at <a href="https://docs.fedoraproject.org/" class="bare">https://docs.fedoraproject.org/</a>. Using either <code>aes-xts-plain64</code> or <code>aes-cbc-essiv:sha256</code> is strongly recommended.</p>
</dd>
<dt class="hdlist1"><span class="option">--escrowcert=<em>URL_of_X.509_certificate</em></span></dt>
<dd>
<p>Stores data encryption keys of all encrypted volumes as files in <code>/root</code>, encrypted using the X.509 certificate from the URL specified with <em>URL_of_X.509_certificate</em>. The keys are stored as a separate file for each encrypted volume. This option is only meaningful if <span class="option">--encrypted</span> is specified.</p>
</dd>
<dt class="hdlist1"><span class="option">--backuppassphrase</span></dt>
<dd>
<p>Add a randomly-generated passphrase to each encrypted partition. Store these passphrases in separate files in <code>/root</code>, encrypted using the X.509 certificate specified with <span class="option">--escrowcert</span>. This option is only meaningful if <span class="option">--escrowcert</span> is specified.</p>
</dd>
<dt class="hdlist1"><span class="option">--luks-version=</span></dt>
<dd>
<p>Specifies which version of LUKS should be used to encrypt the system. Only relevant if <span class="option">--encrypted</span> is also specified.</p>
</dd>
<dt class="hdlist1"><span class="option">--pbkdf=</span></dt>
<dd>
<p>Sets Password-Based Key Derivation Function (PBKDF) algorithm for the LUKS keyslot. Only relevant if <span class="option">--encrypted</span> is also specified. See the <code>cryptsetup(8)</code> man page for more information.</p>
</dd>
<dt class="hdlist1"><span class="option">pbkdf-memory=</span></dt>
<dd>
<p>Sets the memory cost for PBKDF. Only relevant if <span class="option">--encrypted</span> is also specified. See the <code>cryptsetup(8)</code> man page for more information.</p>
</dd>
<dt class="hdlist1"><span class="option">pbkdf-time=</span></dt>
<dd>
<p>Sets the number of miliseconds to spend with PBKDF passphrase processing. Only relevant if <span class="option">--encrypted</span> is also specified. See information about the <span class="option">--iter-time</span> option in the <code>cryptsetup(8)</code> man page for more information.</p>
<div class="paragraph">
<p>Only one of <span class="option">--pbkdf-time=</span> or <span class="option">--pbkdf-iterations=</span> can be specified at the same time.</p>
</div>
</dd>
<dt class="hdlist1"><span class="option">pbkdf-iterations=</span></dt>
<dd>
<p>Sets the number of iterations for passphrase processing directly, and avoids PBKDF benchmark. Only relevant if <span class="option">--encrypted</span> is also specified. See information about the <span class="option">--pbkdf-force-iterations</span> option in the <code>cryptsetup(8)</code> man page for more information.</p>
<div class="paragraph">
<p>Only one of <span class="option">--pbkdf-time=</span> or <span class="option">--pbkdf-iterations=</span> can be specified at the same time.</p>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The following example shows how to create a RAID level 1 partition for <code>/</code>, and a RAID level 5 for <code>/home</code>, assuming there are three SCSI disks on the system. It also creates three swap partitions, one on each drive.</p>
</div>
<div class="exampleblock">
<div class="title">Example 2. Creating a RAID array in Kickstart</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre><span class="command">part raid.01 --size=6000 --ondisk=sda</span>
<span class="command">part raid.02 --size=6000 --ondisk=sdb</span>
<span class="command">part raid.03 --size=6000 --ondisk=sdc</span>

<span class="command">part swap --size=512 --ondisk=sda</span>
<span class="command">part swap --size=512 --ondisk=sdb</span>
<span class="command">part swap --size=512 --ondisk=sdc</span>

<span class="command">part raid.11 --size=1 --grow --ondisk=sda</span>
<span class="command">part raid.12 --size=1 --grow --ondisk=sdb</span>
<span class="command">part raid.13 --size=1 --grow --ondisk=sdc</span>

<span class="command">raid / --level=1 --device=f30-root --label=f30-root raid.01 raid.02 raid.03</span>
<span class="command">raid /home --level=5 --device=f30-home --label=f30-home raid.11 raid.12 raid.13</span></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-reqpart"><a class="anchor" href="#sect-kickstart-commands-reqpart"></a>reqpart (optional) - Create Required Partitions</h3>
<div class="paragraph">
<p>Automatically create partitions required by your hardware platform. These include a <code>/boot/efi</code> for x86_64 and Aarch64 systems with UEFI firmware, <code>biosboot</code> for x86_64 systems with BIOS firmware and GPT (GUID Partition Table), and <code>PRePBoot</code> for IBM Power Systems.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This command can not be used together with <span class="command">autopart</span>, because <span class="command">autopart</span> does the same and creates other partitions or logical volumes such as <code>/</code> and <code>swap</code> on top. In contrast with <span class="command">autopart</span>, this command only creates platform-specific partitions and leaves the rest of the drive empty, allowing you to create a custom layout.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">reqpart [--add-boot]</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--add-boot</span></dt>
<dd>
<p>Create a separate <code>/boot</code> partition in addition to the platform-specific partition created by the base command.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-volgroup"><a class="anchor" href="#sect-kickstart-commands-volgroup"></a>volgroup (optional) - Create LVM Volume Group</h3>
<div class="paragraph">
<p>Creates a Logical Volume Management (LVM) volume group.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">volgroup <em>name</em> <em>partition</em> [<em>options</em>]</span></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Do not use the dash (<code>-</code>) character in logical volume and volume group names when installing Fedora using Kickstart. If this character is used, the installation will finish normally, but the <code>/dev/mapper/</code> directory will list these volumes and volume groups with every dash doubled. For example, a volume group named <code>volgrp-01</code> containing a logical volume named <code>logvol-01</code> will be listed as <code>/dev/mapper/volgrp&#8212;&#8203;01-logvol&#8212;&#8203;01</code>.</p>
</div>
<div class="paragraph">
<p>This limitation only applies to newly created logical volume and volume group names. If you are reusing existing ones using the <span class="option">--noformat</span> or <span class="option">--noformat</span> option, their names will not be changed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For a detailed partitioning example including <span class="command">volgroup</span>, see <a href="#sect-kickstart-example-advanced-partitioning">Advanced Partitioning Example</a>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--noformat</span></dt>
<dd>
<p>Use an existing volume group and do not format it.</p>
</dd>
<dt class="hdlist1"><span class="option">--useexisting</span></dt>
<dd>
<p>Use an existing volume group and reformat it.</p>
</dd>
<dt class="hdlist1"><span class="option">--pesize=</span></dt>
<dd>
<p>Set the size of the physical extents. The default size for Kickstart installations is 4 MiB.</p>
</dd>
<dt class="hdlist1"><span class="option">--reserved-space=</span></dt>
<dd>
<p>Specify an amount of space to leave unused in a volume group in megabytes. Applicable only to newly created volume groups.</p>
</dd>
<dt class="hdlist1"><span class="option">--reserved-percent=</span></dt>
<dd>
<p>Specify a percentage of total volume group space to leave unused. Applicable only to newly created volume groups.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Create one or more partitions first using <a href="#sect-kickstart-commands-part">part (required) - Create Physical Partition</a>, create the logical volume group (<a href="#sect-kickstart-commands-volgroup">volgroup (optional) - Create LVM Volume Group</a>), and then create logical volumes. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">part pv.01 --size 3000</span>
<span class="command">volgroup myvg pv.01</span>
<span class="command">logvol / --vgname=myvg --size=2000 --name=rootvol</span></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-zerombr"><a class="anchor" href="#sect-kickstart-commands-zerombr"></a>zerombr (optional) - Reinitialize Partition Tables</h3>
<div class="paragraph">
<p>If <span class="command">zerombr</span> is specified, any invalid partition tables found on disks are initialized. This destroys all of the contents of disks with invalid partition tables. This command is required when performing an unattended installation on a system with previously initialized disks.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>On IBM System&#160;z, if <span class="command">zerombr</span> is specified, any <em>Direct Access Storage Device</em> (DASD) visible to the installation program which is not already low-level formatted is automatically low-level formatted with <strong class="application">dasdfmt</strong>. The command also prevents user choice during interactive installations.</p>
</div>
<div class="paragraph">
<p>If <span class="command">zerombr</span> is not specified and there is at least one unformatted DASD visible to the installation program, a non-interactive Kickstart installation will exit unsuccessfully.</p>
</div>
<div class="paragraph">
<p>If <span class="command">zerombr</span> is not specified and there is at least one unformatted DASD visible to the installation program, an interactive installation exits if the user does not agree to format all visible and unformatted DASDs. To circumvent this, only activate those DASDs that you will use during installation. You can always add more DASDs after installation is complete.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-zfcp"><a class="anchor" href="#sect-kickstart-commands-zfcp"></a>zfcp (optional) - Configure Fibre Channel Device</h3>
<div class="paragraph">
<p>Define a Fibre channel device. This option only applies on IBM System&#160;z. All of the options described below must be specified.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">zfcp --devnum=<em>devnum</em> --wwpn=<em>wwpn</em> --fcplun=<em>lun</em></span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--devnum</span></dt>
<dd>
<p>The device number (zFCP adaptor device bus ID).</p>
</dd>
<dt class="hdlist1"><span class="option">--wwpn</span></dt>
<dd>
<p>The device&#8217;s World Wide Port Name (WWPN). Takes the form of a 16-digit number, preceded by <code>0x</code>.</p>
</dd>
<dt class="hdlist1"><span class="option">--fcplun</span></dt>
<dd>
<p>The device&#8217;s Logical Unit Number (LUN). Takes the form of a 16-digit number, preceded by <code>0x</code>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">zfcp --devnum=0.0.4000 --wwpn=0x5005076300C213e9 --fcplun=0x5022000000000000</span></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sect-kickstart-commands-network-configuration"><a class="anchor" href="#sect-kickstart-commands-network-configuration"></a>Network Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Commands in this chapter are used for network configuration.</p>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-firewall"><a class="anchor" href="#sect-kickstart-commands-firewall"></a>firewall (optional) - Configure Firewall</h3>
<div class="paragraph">
<p>Specify the firewall configuration for the installed system.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">firewall --enabled | --disabled <em>device</em> [--trust= | --ssh | --smtp | --http | --ftp | --port= | --service=]</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--enabled</span> or <span class="option">--enable</span></dt>
<dd>
<p>Reject incoming connections that are not in response to outbound requests, such as DNS replies or DHCP requests. If access to services running on this machine is needed, you can choose to allow specific services through the firewall.</p>
</dd>
<dt class="hdlist1"><span class="option">--disabled</span> or <span class="option">--disable</span></dt>
<dd>
<p>Disable the firewall.</p>
</dd>
<dt class="hdlist1"><span class="option">--trust=</span></dt>
<dd>
<p>Listing a device here, such as <code>em1</code>, allows all traffic coming to and from that device to go through the firewall. To list more than one device, use this option again - for example:</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">firewall --enable --trust=em1 --trust=em2</span></pre>
</div>
</div>
<div class="paragraph">
<p>Do not use a comma-separated format such as <span class="option">--trust em1, em2</span>.</p>
</div>
</dd>
<dt class="hdlist1"><em>incoming</em></dt>
<dd>
<p>Replace with one or more of the following to allow the specified services through the firewall:</p>
<div class="ulist">
<ul>
<li>
<p><span class="option">--ssh</span></p>
</li>
<li>
<p><span class="option">--smtp</span></p>
</li>
<li>
<p><span class="option">--http</span></p>
</li>
<li>
<p><span class="option">--ftp</span></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><span class="option">--port=</span></dt>
<dd>
<p>You can specify that ports be allowed through the firewall using the port:protocol format. For example, to allow IMAP access through your firewall, specify <code>imap:tcp</code>. Numeric ports can also be specified explicitly; for example, to allow UDP packets on port 1234 through, specify <code>1234:udp</code>. To specify multiple ports, separate them by commas.</p>
</dd>
<dt class="hdlist1"><span class="option">--service=</span></dt>
<dd>
<p>This option provides a higher-level way to allow services through the firewall. Some services (like <code>cups</code>, <code>avahi</code>, etc.) require multiple ports to be open or other special configuration in order for the service to work. You can specify each individual port with the <span class="option">--port</span> option, or specify <span class="command">--service=</span> and open them all at once.</p>
<div class="paragraph">
<p>Valid options are anything recognized by the <strong class="application">firewall-offline-cmd</strong> program in the <strong class="package">firewalld</strong> package. If <code>firewalld</code> is running, <span class="command">firewall-cmd --get-services</span> will provide a list of known service names.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-network"><a class="anchor" href="#sect-kickstart-commands-network"></a>network (optional) - Configure Network Interfaces</h3>
<div class="paragraph">
<p>Configures network information for the target system and activates network devices in the installation environment. The device specified in the first <span class="command">network</span> command is activated automatically. Activation of the device can be also explicitly required by the <span class="option">--activate</span> option.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--activate</span></dt>
<dd>
<p>If you use the <span class="option">--activate</span> option on a device that has already been activated (for example, an interface you configured with boot options so that the system could retrieve the Kickstart file) the device is reactivated to use the details specified in the Kickstart file.</p>
<div class="paragraph">
<p>Use the <span class="option">--nodefroute</span> option to prevent the device from using the default route.</p>
</div>
</dd>
<dt class="hdlist1"><span class="option">--no-activate</span></dt>
<dd>
<p>Prevents the configured device from automatically activating on boot.</p>
</dd>
<dt class="hdlist1"><span class="option">--bootproto=</span></dt>
<dd>
<p>One of <code>dhcp</code>, <code>bootp</code>, <code>ibft</code>, or <code>static</code>. The default option is <code>dhcp</code>; the <code>dhcp</code> and <code>bootp</code> options are treated the same.</p>
<div class="paragraph">
<p>The DHCP method uses a DHCP server system to obtain its networking configuration. The BOOTP method is similar, requiring a BOOTP server to supply the networking configuration. To direct a system to use DHCP:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">network --bootproto=dhcp</span></pre>
</div>
</div>
<div class="paragraph">
<p>To direct a machine to use BOOTP to obtain its networking configuration, use the following line in the Kickstart file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">network --bootproto=bootp</span></pre>
</div>
</div>
<div class="paragraph">
<p>To direct a machine to use the configuration specified in iBFT, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">network --bootproto=ibft</span></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>static</code> method requires that you specify the IP address, netmask, gateway, and nameserver in the Kickstart file. This information is static and is used during and after the installation.</p>
</div>
<div class="paragraph">
<p>All static networking configuration information must be specified on <strong>one</strong> line; you cannot wrap lines using a backslash (<code>\</code>) as you can on a command line.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">network --bootproto=static --ip=10.0.2.15 --netmask=255.255.255.0 --gateway=10.0.2.254 --nameserver=10.0.2.1</span></pre>
</div>
</div>
<div class="paragraph">
<p>You can also configure multiple nameservers at the same time. To do so, use the <span class="option">--nameserver=</span> options once for each name server you want to configure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">network --bootproto=static --ip=10.0.2.15 --netmask=255.255.255.0 --gateway=10.0.2.254 --nameserver=192.168.2.1 --nameserver=192.168.3.1</span></pre>
</div>
</div>
</dd>
<dt class="hdlist1"><span class="option">--device=</span></dt>
<dd>
<p>Specifies the device to be configured (and eventually activated in <strong class="application">Anaconda</strong>) with the <span class="command">network</span> command.</p>
<div class="paragraph">
<p>If the <span class="option">--device=</span> option is missing on the <strong>first</strong> use of the <span class="command">network</span> command, the value of the <span class="option">ksdevice=</span> <strong class="application">Anaconda</strong> boot option is used, if available. Note that this is considered deprecated behavior; in most cases, you should always specify a <span class="option">--device=</span> for every <span class="command">network</span> command.</p>
</div>
<div class="paragraph">
<p>The behavior of any subsequent <span class="command">network</span> command in the same Kickstart file is unspecified if its <span class="option">--device=</span> option is missing. Make sure you specify this option for any <span class="command">network</span> command beyond the first.</p>
</div>
<div class="paragraph">
<p>You can specify a device to be activated in any of the following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the device name of the interface, for example, <code>em1</code></p>
</li>
<li>
<p>the MAC address of the interface, for example, <code>01:23:45:67:89:ab</code></p>
</li>
<li>
<p>the keyword <code>link</code>, which specifies the first interface with its link in the <code>up</code> state</p>
</li>
<li>
<p>the keyword <code>bootif</code>, which uses the MAC address that <strong class="application">pxelinux</strong> set in the <code>BOOTIF</code> variable. Set <code>IPAPPEND 2</code> in your <code>pxelinux.cfg</code> file to have <strong class="application">pxelinux</strong> set the <code>BOOTIF</code> variable.</p>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">network --bootproto=dhcp --device=em1</span></pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><span class="option">--bindto=</span></dt>
<dd>
<p>Optional. Allows to specify how the connection configuration created for the device should be bound. If the option is not used, the connection binds to interface name (<code>DEVICE</code> value in ifcfg file). For virtual devices (bond, team, bridge) it configures binding of slaves. Not applicable to vlan devices.</p>
<div class="paragraph">
<p>Note that this option is independent of how the <code>--device</code> is specified.</p>
</div>
<div class="paragraph">
<p>Currently only the value <code>mac</code> is suported. <code>--bindto=mac</code> will bind  the connection to MAC address of the device (<code>HWADDR</code> value in the <code>ifcfg</code> file).</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">network --device=01:23:45:67:89:ab --bootproto=dhcp --bindto=mac</span></pre>
</div>
</div>
<div class="paragraph">
<p>The above will bind the configuration of the device specified by MAC address <code>01:23:45:67:89:ab</code> to its MAC address.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>network --device=01:23:45:67:89:ab --bootproto=dhcp</pre>
</div>
</div>
<div class="paragraph">
<p>The above will bind the configuration of the device specified by MAC address <code>01:23:45:67:89:ab</code> to its interface name (e.g. <code>ens3</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">network --device=ens3 --bootproto=dhcp --bindto=mac</span></pre>
</div>
</div>
<div class="paragraph">
<p>The above will bind the configuration of the device specified by interface name <code>ens3</code> to its MAC address.</p>
</div>
</dd>
<dt class="hdlist1"><span class="option">--ip=</span></dt>
<dd>
<p>IP address of the device.</p>
</dd>
<dt class="hdlist1"><span class="option">--ipv6=</span></dt>
<dd>
<p>IPv6 address of the device, in the form of <em>address</em>[/<em>prefix</em> <em>length</em>] - for example, <code>3ffe:ffff:0:1::1/128</code> . If <em>prefix</em> is omitted, <code>64</code> will be used. You can also use <code>auto</code> for automatic configuration, or <code>dhcp</code> for DHCPv6-only configuration (no router advertisements).</p>
</dd>
<dt class="hdlist1"><span class="option">--gateway=</span></dt>
<dd>
<p>Default gateway as a single IPv4 address.</p>
</dd>
<dt class="hdlist1"><span class="option">--ipv6gateway=</span></dt>
<dd>
<p>Default gateway as a single IPv6 address.</p>
</dd>
<dt class="hdlist1"><span class="option">--nodefroute</span></dt>
<dd>
<p>Prevents the interface being set as the default route. Use this option when you activate additional devices with the <span class="option">--activate=</span> option, for example, a NIC on a separate subnet for an iSCSI target.</p>
</dd>
<dt class="hdlist1"><span class="option">--nameserver=</span></dt>
<dd>
<p>DNS name server, as an IP address. To specify more than one name server, use this parameter multiple times. For example:</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">network --bootproto=static --ip=10.0.2.15 --netmask=255.255.255.0 --gateway=10.0.2.254 --nameserver=192.168.2.1 --nameserver=192.168.3.1</span></pre>
</div>
</div>
</dd>
<dt class="hdlist1"><span class="option">--nodns</span></dt>
<dd>
<p>Do not configure any DNS server.</p>
</dd>
<dt class="hdlist1"><span class="option">--netmask=</span></dt>
<dd>
<p>Network mask for the installed system.</p>
</dd>
<dt class="hdlist1"><span class="option">--hostname=</span></dt>
<dd>
<p>Host name for the installed system. The host name can be either a <em>fully-qualified domain name</em> (FQDN) in the format <em>hostname</em>.<em>domainname</em>, or a short host name with no domain name. Many networks have a <em>Dynamic Host Configuration Protocol</em> (<code>DHCP</code>) service that automatically supplies connected systems with a domain name; to allow the <code>DHCP</code> service to assign the domain name to this machine, only specify the short host name.</p>
</dd>
<dt class="hdlist1"><span class="option">--ethtool=</span></dt>
<dd>
<p>Specifies additional low-level settings for the network device which will be passed to the <strong class="application">ethtool</strong> program.</p>
</dd>
<dt class="hdlist1"><span class="option">--essid=</span></dt>
<dd>
<p>The network ID for wireless networks.</p>
</dd>
<dt class="hdlist1"><span class="option">--wepkey=</span></dt>
<dd>
<p>The WEP encryption key for wireless networks.</p>
</dd>
<dt class="hdlist1"><span class="option">--wpakey=</span></dt>
<dd>
<p>The WPA encryption key for wireless networks.</p>
</dd>
<dt class="hdlist1"><span class="option">--onboot=</span></dt>
<dd>
<p>Whether or not to enable the device at boot time.</p>
</dd>
<dt class="hdlist1"><span class="option">--dhcpclass=</span></dt>
<dd>
<p>The DHCP class.</p>
</dd>
<dt class="hdlist1"><span class="option">--mtu=</span></dt>
<dd>
<p>The MTU of the device.</p>
</dd>
<dt class="hdlist1"><span class="option">--noipv4</span></dt>
<dd>
<p>Disable IPv4 on this device.</p>
</dd>
<dt class="hdlist1"><span class="option">--noipv6</span></dt>
<dd>
<p>Disable IPv6 on this device.</p>
</dd>
<dt class="hdlist1"><span class="option">--bondslaves=</span></dt>
<dd>
<p>When this option is used, the network device specified in the <span class="option">--device=</span> option will be created using slaves defined in the <span class="option">--bondslaves=</span> option. For example:</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">network --device=mynetwork --bondslaves=em1,em2</span></pre>
</div>
</div>
<div class="paragraph">
<p>The above command will create a bond device named <code>mynetwork</code> using the <code>em1</code> and <code>em2</code> interfaces as its slaves.</p>
</div>
</dd>
<dt class="hdlist1"><span class="command">--bondopts=</span></dt>
<dd>
<p>A list of optional parameters for a bonded interface, which is specified using the <span class="command">--bondslaves=</span> and <span class="command">--device=</span> options. Options in this list must be separated by commas ("<code>,</code>") or semicolons ("<code>;</code>"). If an option itself contains a comma, use a semicolon to separate the options. For example:</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">network --bondopts=mode=active-backup,balance-rr;primary=eth1</span></pre>
</div>
</div>
<div class="paragraph">
<p>Available optional parameters are listed in the <em class="citetitle">Working with Kernel Modules</em> chapter of the <em class="citetitle">Fedora System Administrator&#8217;s Guide</em>, available at <a href="https://docs.fedoraproject.org/" class="bare">https://docs.fedoraproject.org/</a>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <span class="option">--bondopts=mode=</span> parameter only supports full mode names such as <code>balance-rr</code> or <code>broadcast</code>, not their numerical representations such as <code>0</code> or <code>3</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</dd>
<dt class="hdlist1"><span class="option">--vlanid=</span></dt>
<dd>
<p>Specifies virtual LAN (VLAN) ID number (802.1q tag) for the device created using the device specified in <span class="option">--device=</span> as a parent. For example, <span class="command">network --device=em1 --vlanid=171</span> will create a virtual LAN device <code>em1.171</code>.</p>
</dd>
<dt class="hdlist1"><span class="option">--interfacename=</span></dt>
<dd>
<p>Specify a custom interface name for a virtual LAN device. This option should be used when the default name generated by the <span class="option">--vlanid=</span> option is not desirable. This option must be used along with <span class="option">--vlanid=</span>. For example:</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">network --device=em1 --vlanid=171 --interfacename=vlan171</span></pre>
</div>
</div>
<div class="paragraph">
<p>The above command will create a virtual LAN interface named <code>vlan171</code> on the <code>em1</code> device with an ID of <code>171</code>.</p>
</div>
<div class="paragraph">
<p>The interface name can be arbitrary (for example, <code>my-vlan</code>), but in specific cases, the following conventions must be followed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the name contains a dot (<code>.</code>), it must take the form of <code><em>NAME</em>.<em>ID</em></code>. The <em>NAME</em> is arbitrary, but the <em>ID</em> must be the VLAN ID. For example: <code>em1.171</code> or <code>my-vlan.171</code>.</p>
</li>
<li>
<p>Names starting with <code>vlan</code> must take the form of <code>vlan<em>ID</em></code> - for example, <code>vlan171</code>.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><span class="option">--teamslaves=</span></dt>
<dd>
<p>Team device specified by the <span class="option">--device=</span> option will be created using slaves specified in this option. Slaves are separated by commas. A slave can be followed by its configuration, which is a single-quoted JSON string with double quotes escaped by the <code>\</code> character. For example:</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">network --teamslaves="p3p1'{\"prio\": -10, \"sticky\": true}',p3p2'{\"prio\": 100}'"</span></pre>
</div>
</div>
<div class="paragraph">
<p>See also the <span class="option">--teamconfig=</span> option.</p>
</div>
</dd>
<dt class="hdlist1"><span class="option">--teamconfig=</span></dt>
<dd>
<p>Double-quoted team device configuration which is a single-quoted JSON string with double quotes escaped by the <code>\</code> character. The device name is specified by <span class="option">--device=</span> option and its slaves and their configuration by <span class="option">--teamslaves=</span> option. For example:</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">network --device team0 --activate --bootproto static --ip=10.34.102.222 --netmask=255.255.255.0 --gateway=10.34.102.254 --nameserver=10.34.39.2 --teamslaves="p3p1'{\"prio\": -10, \"sticky\": true}',p3p2'{\"prio\": 100}'" --teamconfig="{\"runner\": {\"name\": \"activebackup\"}}"</span></pre>
</div>
</div>
</dd>
<dt class="hdlist1"><span class="option">--bridgeslaves=</span></dt>
<dd>
<p>When this option is used, the network bridge with device name specified using the <span class="option">--device=</span> option will be created and devices defined in the <span class="option">--bridgeslaves=</span> option will be added to the bridge. For example:</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">network --device=bridge0 --bridgeslaves=em1</span></pre>
</div>
</div>
</dd>
<dt class="hdlist1"><span class="option">--bridgeopts=</span></dt>
<dd>
<p>An optional comma-separated list of parameters for the bridged interface. Available values are <code>stp</code>, <code>priority</code>, <code>forward-delay</code>, <code>hello-time</code>, <code>max-age</code>, and <code>ageing-time</code>. For information about these parameters, see the <em class="citetitle">bridge setting</em> table in the <code>nm-settings(5)</code> man page or at <a href="https://developer.gnome.org/NetworkManager/0.9/ref-settings.html" class="bare">https://developer.gnome.org/NetworkManager/0.9/ref-settings.html</a>. Also see the <em class="citetitle">Fedora Networking Guide</em>, available at <a href="https://docs.fedoraproject.org/" class="bare">https://docs.fedoraproject.org/</a>, for general information about network bridging.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sect-kickstart-commands-environment"><a class="anchor" href="#sect-kickstart-commands-environment"></a>Console and Environment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following commands control the environment of the system after the installation finishes - language, keyboard layouts, or the graphical interface.</p>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-keyboard"><a class="anchor" href="#sect-kickstart-commands-keyboard"></a>keyboard (optional) - Configure Keyboard Layouts</h3>
<div class="paragraph">
<p>Sets one or more available keyboard layouts for the system.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">keyboard --vckeymap= | --xlayouts= [--switch=]</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--vckeymap=</span></dt>
<dd>
<p>Specify a <code>VConsole</code> keymap which should be used. Valid names correspond to the list of files in the <code>/usr/lib/kbd/keymaps/*</code> directory, without the <code>.map.gz</code> extension.</p>
</dd>
<dt class="hdlist1"><span class="option">--xlayouts=</span></dt>
<dd>
<p>Specify a list of <strong class="application">X</strong> layouts that should be used as a comma-separated list without spaces. Accepts values in the same format as <code>setxkbmap(1)</code>, either in the <code><em>layout</em></code> format (such as <code>cz</code>), or in the <code><em>layout</em> (<em>variant</em>)</code> format (such as <code>cz (qwerty)</code>).</p>
<div class="paragraph">
<p>All available layouts can be viewed on the <code>xkeyboard-config(7)</code> man page under <code>Layouts</code>.</p>
</div>
</dd>
<dt class="hdlist1"><span class="option">--switch=</span></dt>
<dd>
<p>Specify a list of layout-switching options (shortcuts for switching between multiple keyboard layouts). Multiple options must be separated by commas without spaces. Accepts values in the same format as <code>setxkbmap(1)</code>.</p>
<div class="paragraph">
<p>Available switching options can be viewed on the <code>xkeyboard-config(7)</code> man page under <code>Options</code>.</p>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The following example sets up two keyboard layouts (<code>English (US)</code> and <code>Czech (qwerty)</code>) using the <span class="option">--xlayouts=</span> option, and allows to switch between them using <span class="keyseq"><kbd>Alt</kbd>+<kbd>Shift</kbd></span>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>keyboard --xlayouts=us,'cz (qwerty)' --switch=grp:alt_shift_toggle</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-lang"><a class="anchor" href="#sect-kickstart-commands-lang"></a>lang (optional) - Configure Language During Installation</h3>
<div class="paragraph">
<p>Sets the language to use during installation and the default language to use on the installed system.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">lang <em>language</em> [--addsupport=]</span></pre>
</div>
</div>
<div class="paragraph">
<p>The file <code>/usr/share/system-config-language/locale-list</code> provides a list of the valid <em>language</em> codes in the first column of each line and is part of the <strong class="package">system-config-language</strong> package.</p>
</div>
<div class="paragraph">
<p>Certain languages (for example, Chinese, Japanese, Korean, and Indic languages) are not supported during text-mode installation. If you specify one of these languages with the <span class="command">lang</span> command and use text mode, the installation process will continue in English, but the installed system will use your selection as its default language.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--addsupport=</span></dt>
<dd>
<p>Add support for additional languages. Takes the form of comma-separated list without spaces. For example:</p>
<div class="listingblock">
<div class="content">
<pre>lang en_US --addsupport=cs_CZ,de_DE,en_UK</pre>
</div>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-services"><a class="anchor" href="#sect-kickstart-commands-services"></a>services (optional) - Configure Services</h3>
<div class="paragraph">
<p>Modifies the default set of services that will run under the default <strong class="application">systemd</strong> target. The list of disabled services is processed before the list of enabled services - therefore, if a service appears on both lists, it will be enabled.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">services [--disabled=<em>list</em>] [--enabled=<em>list</em>]</span></pre>
</div>
</div>
<div class="paragraph">
<p>Do not include spaces in the list of services. If you do, Kickstart will enable or disable only the services up to the first space. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">services --disabled=auditd, cups,smartd, nfslock</span></pre>
</div>
</div>
<div class="paragraph">
<p>The above will disable only the <code>auditd</code> service. To disable all four services, the entry should include no spaces:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">services --disabled=auditd,cups,smartd,nfslock</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--disabled=</span></dt>
<dd>
<p>Disable the services given in the comma separated list.</p>
</dd>
<dt class="hdlist1"><span class="option">--enabled=</span></dt>
<dd>
<p>Enable the services given in the comma separated list.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-skipx"><a class="anchor" href="#sect-kickstart-commands-skipx"></a>skipx (optional) - Do Not Configure X Window System</h3>
<div class="paragraph">
<p>If present, <strong class="application">X</strong> will not be configured on the installed system.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you install a display manager among your package selection options, this package will create an <strong class="application">X</strong> configuration, and the installed system will default to <code>graphical.target</code>. The effect of the <span class="command">skipx</span> option will be overridden.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-timezone"><a class="anchor" href="#sect-kickstart-commands-timezone"></a>timezone (optional) - Configure Time Zone</h3>
<div class="paragraph">
<p>Sets the system time zone to <em>timezone</em>. To view a list of available time zones, use the <span class="command">timedatectl list-timezones</span> command.</p>
</div>
<div class="paragraph">
<p>Every option, including actually specifying a time zone, is optional starting with Fedora 25. This allows you to, for example, disable NTP from starting using <span class="option">--nontp</span> without having to choose any time zone. However, if this command is present in the Kickstart file, at least one option must be used.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">timezone [<em>timezone</em>] [<em>options</em>]</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--utc</span></dt>
<dd>
<p>If present, the system assumes the hardware clock is set to UTC (Greenwich Mean) time.</p>
</dd>
<dt class="hdlist1"><span class="option">--nontp</span></dt>
<dd>
<p>Disable the NTP service automatic starting.</p>
</dd>
<dt class="hdlist1"><span class="option">--ntpservers=</span></dt>
<dd>
<p>Specify a list of NTP servers to be used as a comma-separated list without spaces.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-xconfig"><a class="anchor" href="#sect-kickstart-commands-xconfig"></a>xconfig (optional) - Configure X Window System</h3>
<div class="paragraph">
<p>Configures the <strong class="application">X Window System</strong>. If you install the <strong class="application">X Window System</strong> with a Kickstart file that does not include the <span class="command">xconfig</span> command, you must provide the <strong class="application">X</strong> configuration manually during installation.</p>
</div>
<div class="paragraph">
<p>Do not use this command in a Kickstart file that does not install the <strong class="application">X Window System</strong>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--defaultdesktop=</span></dt>
<dd>
<p>Specify either <code>GNOME</code> or <code>KDE</code> to set the default desktop (assumes that <strong class="application">GNOME Desktop Environment</strong> and/or <strong class="application">KDE Desktop Environment</strong> has been installed in the <span class="command">%packages</span> section).</p>
</dd>
<dt class="hdlist1"><span class="option">--startxonboot</span></dt>
<dd>
<p>Use a graphical login on the installed system.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sect-kickstart-commands-users-groups"><a class="anchor" href="#sect-kickstart-commands-users-groups"></a>Users, Groups and Authentication</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The commands below are used to control user accounts, groups, and related areas.</p>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-authconfig"><a class="anchor" href="#sect-kickstart-commands-authconfig"></a>auth or authconfig (optional) - Configure Authentication (deprecated)</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This command has been deprecated by <span class="command">authselect</span>. Using it will invoke the authconfig compatibility tool; however, it is highly recommended to use <span class="command">authselect</span> instead.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Sets up the authentication options for the system using the <span class="command">authconfig</span> command, which can also be run on a command line after the installation finishes. See the <code>authconfig(8)</code> manual page and the <span class="command">authconfig --help</span> command for more details. Passwords are shadowed by default.</p>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-authselect"><a class="anchor" href="#sect-kickstart-commands-authselect"></a>authselect (optional) - Configure Authentication</h3>
<div class="paragraph">
<p>This command sets up the authentication options for the system. This is just a wrapper around the <span class="command">authselect</span> program, so all options recognized by that program are valid for this command. See the <code>authselect(8)</code> for a complete list. Passwords are shadowed by default.</p>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-group"><a class="anchor" href="#sect-kickstart-commands-group"></a>group (optional) - Create User Group</h3>
<div class="paragraph">
<p>Creates a new user group on the system. If a group with the given name or GID already exists, this command will fail. In addition, the <span class="command">user</span> command can be used to create a new group for the newly created user.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">group --name=<em>name</em> [--gid=<em>gid</em>]</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--name=</span></dt>
<dd>
<p>Provides the name of the group.</p>
</dd>
<dt class="hdlist1"><span class="option">--gid=</span></dt>
<dd>
<p>The group ID (GID). If not provided, defaults to the next available non-system GID.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-pwpolicy"><a class="anchor" href="#sect-kickstart-commands-pwpolicy"></a>pwpolicy (optional) - Change the Default Password Policy</h3>
<div class="paragraph">
<p>This command can be used to set custom requirements (policy) such as length and strength for passwords set during the installation - the <code>root</code> password, user passwords and LUKS (disk encryption) password.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">pwpolicy <em>name</em> [--minlen=<em>length</em>] [--minquality=<em>quality</em>] [--strict|nostrict] [--emptyok|noempty] [--changesok|nochanges]</span></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>libpwquality</code> library is used to check minimum password requirements (length and quality). You can use the <span class="command">pwscore</span> and <span class="command">pwmake</span> commands provided by the <strong class="package">libpwquality</strong> package to check the quality score of your chosen password, or to create a random password with a given score. See the <code>pwscore(1)</code> and <code>pwmake(1)</code> man pages for details about these commands.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This command must be used inside the <span class="command">%anaconda</span> section. See <a href="#sect-kickstart-commands-anaconda">%anaconda (optional) - Additional Anaconda Configuration</a> for details.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>name</em></dt>
<dd>
<p>Name of the password entry. Supported values are <code>root</code>, <code>user</code> and <code>luks</code> for <code>root</code> password, user passwords and LUKS password, respectively.</p>
</dd>
<dt class="hdlist1"><span class="option">--minlen=</span></dt>
<dd>
<p>Sets the minimum allowed password length. The default minimum length is <code>8</code>.</p>
</dd>
<dt class="hdlist1"><span class="option">--minquality=</span></dt>
<dd>
<p>Sets the minimum allowed password quality as defined by the <code>libpwquality</code> library. The default value is <code>50</code>.</p>
</dd>
<dt class="hdlist1"><span class="option">--strict</span></dt>
<dd>
<p>Strict password enforcement. Passwords not meeting the quality requirements specified in <span class="option">--minquality=</span> will not be allowed. Enabled by default.</p>
</dd>
<dt class="hdlist1"><span class="option">--notstrict</span></dt>
<dd>
<p>Passwords <strong>not</strong> meeting the minimum quality requirements specified in <span class="option">--minquality=</span> will be allowed after <code>Done</code> is clicked twice.</p>
</dd>
<dt class="hdlist1"><span class="option">--emptyok</span></dt>
<dd>
<p>Allow empty passwords. Enabled by default.</p>
</dd>
<dt class="hdlist1"><span class="option">--notempty</span></dt>
<dd>
<p>Do not allow empty passwords.</p>
</dd>
<dt class="hdlist1"><span class="option">--changesok</span></dt>
<dd>
<p>Allow changing the password in the user interface, even if the Kickstart file already specifies a password.</p>
</dd>
<dt class="hdlist1"><span class="option">--nochanges</span></dt>
<dd>
<p>Do not allow changing passwords which are already set in the Kickstart file. Enabled by default.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>An example use of the <span class="command">pwpolicy</span> command is below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">%anaconda</span>
<span class="command">pwpolicy root --minlen=10 --minquality=60 --strict --notempty --nochanges</span>
<span class="command">%end</span></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-realm"><a class="anchor" href="#sect-kickstart-commands-realm"></a>realm (optional) - Join an Active Directory or IPA Domain</h3>
<div class="paragraph">
<p>Join an Active Directory or IPA domain. For more information about this command, see the <span class="command">join</span> section of the <code>realm(8)</code> man page.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">realm join <em>domain</em> [<em>options</em>]</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--computer-ou=OU=</span></dt>
<dd>
<p>Provide the <em>distinguished name</em> of an organizational unit in order to create the computer account. The exact format of the distinguished name depends on the client software and membership software. The root DSE portion of the distinguished name can usually be left out.</p>
</dd>
<dt class="hdlist1"><span class="option">--no-password</span></dt>
<dd>
<p>Join automatically without a password.</p>
</dd>
<dt class="hdlist1"><span class="option">--one-time-password=</span></dt>
<dd>
<p>Join using a one-time password. This is not possible with all types of realm.</p>
</dd>
<dt class="hdlist1"><span class="option">--client-software=</span></dt>
<dd>
<p>Only join realms which can run this client software. Valid values include <code>sssd</code> and <code>winbind</code>. Not all realms support all values. By default, the client software is chosen automatically.</p>
</dd>
<dt class="hdlist1"><span class="option">--server-software=</span></dt>
<dd>
<p>Only join realms which can run this server software. Possible values include <code>active-directory</code> or <code>freeipa</code>.</p>
</dd>
<dt class="hdlist1"><span class="option">--membership-software=</span></dt>
<dd>
<p>Use this software when joining the realm. Valid values include <code>samba</code> and <code>adcli</code>. Not all realms support all values. By default, the membership software is chosen automatically.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-rootpw"><a class="anchor" href="#sect-kickstart-commands-rootpw"></a>rootpw (required) - Set Root Password</h3>
<div class="paragraph">
<p>Sets the system&#8217;s root password to the <em>password</em> argument.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">rootpw [--iscrypted|--plaintext] [--lock] <em>password</em></span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--iscrypted</span></dt>
<dd>
<p>If this option is present, the password argument is assumed to already be encrypted. This option is mutually exclusive with <span class="option">--plaintext</span>. To create an encrypted password, you can use Python:</p>
<div class="listingblock">
<div class="content">
<pre>$ <span class="command">python -c 'import crypt; print(crypt.crypt("My Password", "$6$My Salt"))'</span></pre>
</div>
</div>
<div class="paragraph">
<p>This will generate a SHA512 crypt of your password using your provided salt.</p>
</div>
</dd>
<dt class="hdlist1"><span class="option">--plaintext</span></dt>
<dd>
<p>If this option is present, the password argument is assumed to be in plain text. This option is mutually exclusive with <span class="option">--iscrypted</span>.</p>
</dd>
<dt class="hdlist1"><span class="option">--lock</span></dt>
<dd>
<p>If this option is present, the root account is locked by default. This means that the root user will not be able to log in from the console.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-selinux"><a class="anchor" href="#sect-kickstart-commands-selinux"></a>selinux (optional) - Configure SELinux</h3>
<div class="paragraph">
<p>Sets the state of SELinux on the installed system. The default policy is <code>enforcing</code>. For more information regarding SELinux in Fedora, see the <em class="citetitle">Fedora SELinux User&#8217;s and Administrator&#8217;s Guide</em>, available at <a href="https://docs.fedoraproject.org/" class="bare">https://docs.fedoraproject.org/</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">selinux [--disabled|--enforcing|--permissive]</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--enforcing</span></dt>
<dd>
<p>Enables SELinux with the default targeted policy being <code>enforcing</code>.</p>
</dd>
<dt class="hdlist1"><span class="option">--permissive</span></dt>
<dd>
<p>Enables SELinux with the default targeted policy being <code>permissive</code>. This policy outputs warnings based on the SELinux policy, but does not actually enforce the policy.</p>
</dd>
<dt class="hdlist1"><span class="option">--disabled</span></dt>
<dd>
<p>Disables SELinux completely.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-sshkey"><a class="anchor" href="#sect-kickstart-commands-sshkey"></a>sshkey (optional) - Add an Authorized SSH Key</h3>
<div class="paragraph">
<p>Use this command to add a specified <code>SSH</code> key to an user&#8217;s <code>authorized_keys</code> file. The specified user must either be <code>root</code>, or it must be created in the Kickstart file - either automatically by an installed package, or using <a href="#sect-kickstart-commands-user">user (optional) - Create User Account</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sshkey --username=user "ssh_key"</pre>
</div>
</div>
<div class="paragraph">
<p>The <em>ssh_key</em> must be a full <code>SSH</code> key fingerprint, and it must be enclosed in quotes (<code>""</code>) because the key may contain spaces.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--username=</span></dt>
<dd>
<p>The name of the user account to which you want to install the <code>SSH</code> key.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-user"><a class="anchor" href="#sect-kickstart-commands-user"></a>user (optional) - Create User Account</h3>
<div class="paragraph">
<p>Creates a new user on the system.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">user --name=<em>username</em> [<em>options</em>]</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--name=</span></dt>
<dd>
<p>Provides the name of the user. This option is required.</p>
</dd>
<dt class="hdlist1"><span class="option">--gecos=</span></dt>
<dd>
<p>Provides the GECOS information for the user. This is a string of various system-specific fields separated by a comma. It is frequently used to specify the user&#8217;s full name, office number, etc. See the <code>passwd(5)</code> man page for more details.</p>
</dd>
<dt class="hdlist1"><span class="option">--groups=</span></dt>
<dd>
<p>In addition to the default group, a comma separated list of group names the user should belong to. The groups must exist before the user account is created. See <a href="#sect-kickstart-commands-group">group (optional) - Create User Group</a>.</p>
</dd>
<dt class="hdlist1"><span class="option">--homedir=</span></dt>
<dd>
<p>The home directory for the user. If not provided, this defaults to <code>/home/<em>username</em></code>.</p>
</dd>
<dt class="hdlist1"><span class="option">--lock</span></dt>
<dd>
<p>If this option is present, this account is locked by default. This means that the user will not be able to log in from the console.</p>
</dd>
<dt class="hdlist1"><span class="option">--password=</span></dt>
<dd>
<p>The new user&#8217;s password. If no password is provided, the account will be locked.</p>
</dd>
<dt class="hdlist1"><span class="option">--iscrypted</span></dt>
<dd>
<p>If this option is present, the password argument is assumed to already be encrypted. This option is mutually exclusive with <span class="option">--plaintext</span>. To create an encrypted password, you can use Python:</p>
<div class="listingblock">
<div class="content">
<pre>$ <span class="command">python -c 'import crypt; print(crypt.crypt("My Password", "$6$My Salt"))'</span></pre>
</div>
</div>
<div class="paragraph">
<p>This will generate a SHA512 crypt of your password using your provided salt.</p>
</div>
</dd>
<dt class="hdlist1"><span class="option">--plaintext</span></dt>
<dd>
<p>If this option is present, the password argument is assumed to be in plain text. This option is mutually exclusive with <span class="option">--iscrypted</span>.</p>
</dd>
<dt class="hdlist1"><span class="option">--shell=</span></dt>
<dd>
<p>The user&#8217;s login shell. If not provided, the system default will be used.</p>
</dd>
<dt class="hdlist1"><span class="option">--uid=</span></dt>
<dd>
<p>The <em>UID</em> (User ID). If not provided, this defaults to the next available non-system UID.</p>
</dd>
<dt class="hdlist1"><span class="option">--gid=</span></dt>
<dd>
<p>The <em>GID</em> (Group ID) to be used for the user&#8217;s default group. If not provided, this defaults to the next available non-system group ID.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sect-kickstart-commands-installation-environment"><a class="anchor" href="#sect-kickstart-commands-installation-environment"></a>Installation Environment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following commands control how the system will behave during the installation.</p>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-autostep"><a class="anchor" href="#sect-kickstart-commands-autostep"></a>autostep (optional) - Go Through Every Screen</h3>
<div class="paragraph">
<p>Normally, Kickstart installations skip unnecessary screens. This option makes the installation program step through every screen, displaying each briefly. This option should not be used when deploying a system because it may disrupt package installation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">autostep [--autoscreenshot]</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--autoscreenshot</span></dt>
<dd>
<p>Take a screenshot at every step during installation. These screenshots are stored in <code>/tmp/anaconda-screenshots</code> during the installation, and after the installation finishes you can find them in <code>/root/anaconda-screenshots</code>.</p>
<div class="paragraph">
<p>Each screen is only captured right before the installer switches to the next one. This is important, because if you do not use all required Kickstart options and the installation therefore does not begin automatically, you can go to the screens which were not automatically configured, perform any configuration you want. Then, when you press <code>Done</code> to continue, the screen will be captured including the configuration you just provided.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-cmdline"><a class="anchor" href="#sect-kickstart-commands-cmdline"></a>cmdline (optional) - Perform Installation in Command Line Mode</h3>
<div class="paragraph">
<p>Perform the installation in a completely non-interactive command line mode. Any prompts for interaction halts the install. This mode is useful on IBM System&#160;z systems with the x3270 terminal.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For a fully automatic installation, you must either specify one of the available modes (<span class="command">graphical</span>, <span class="command">text</span>, or <span class="command">cmdline</span>) in the Kickstart file, or you must use the <span class="option">console=</span> boot option as described in <a href="../advanced/Boot_Options.html#sect-boot-options-display" class="page">Console, Environment and Display Options</a>. Otherwise the system will halt and ask you to choose a mode.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-graphical"><a class="anchor" href="#sect-kickstart-commands-graphical"></a>graphical (optional) - Perform Installation in Graphical Mode</h3>
<div class="paragraph">
<p>Perform the installation in graphical mode. This is the default. This command takes no options.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For a fully automatic installation, you must either specify one of the available modes (<span class="command">graphical</span>, <span class="command">text</span>, or <span class="command">cmdline</span>) in the Kickstart file, or you must use the <span class="option">console=</span> boot option as described in <a href="../advanced/Boot_Options.html#sect-boot-options-display" class="page">Console, Environment and Display Options</a>. Otherwise the system will halt and ask you to choose a mode.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-logging"><a class="anchor" href="#sect-kickstart-commands-logging"></a>logging (optional) - Configure Error Logging During Installation</h3>
<div class="paragraph">
<p>Controls the error logging of <strong class="application">Anaconda</strong> during installation. It has no effect on the installed system.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">logging [--host= | --port= | --level=]</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--host=</span></dt>
<dd>
<p>Send logging information to the given remote host, which must be running a <code>syslogd</code> process configured to accept remote logging.</p>
</dd>
<dt class="hdlist1"><span class="option">--port=</span></dt>
<dd>
<p>If the remote syslogd process uses a port other than the default, it may be specified with this option.</p>
</dd>
<dt class="hdlist1"><span class="option">--level=</span></dt>
<dd>
<p>Specify the minimum level of messages that appear on virtual console 3 (<code>tty3</code>). This only affects messages printed to the console; log files will contain messages of all levels. Possible values are <code>debug</code>, <code>info</code>, <code>warning</code>, <code>error</code>, or <code>critical</code>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-rescue"><a class="anchor" href="#sect-kickstart-commands-rescue"></a>rescue (optional) - Rescue Mode</h3>
<div class="paragraph">
<p>Automatically enters the installation program&#8217;s rescue mode. This gives you a chance to repair the system in case of any problems.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">rescue [--nomount|--romount]</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--nomount</span> or <span class="option">--romount</span></dt>
<dd>
<p>Controls how the installed system is mounted in the rescue environment. By default, the installation program will find your system and mount it in read-write mode, telling you where it has performed this mount. You may optionally choose to not mount anything (the <span class="option">--nomount</span> option) or mount in read-only mode (the <span class="option">--romount</span> option). Only one of these two options may be used.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-sshpw"><a class="anchor" href="#sect-kickstart-commands-sshpw"></a>sshpw (optional) - Restrict ssh Access During Installation</h3>
<div class="paragraph">
<p>During the installation, you can interact with the installation program and monitor its progress over an <code>SSH</code> connection. Use the <span class="command">sshpw</span> command to create temporary accounts through which to log on. Each instance of the command creates a separate account that exists only in the installation environment. These accounts are not transferred to the installed system.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">sshpw --username=<em>name</em> <em>password</em> [--iscrypted|--plaintext] [--lock]</span></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>By default, the <code>ssh</code> server is not started during the installation. To make <code>ssh</code> available during the installation, boot the system with the kernel boot option <span class="option">inst.sshd</span>. See <a href="../advanced/Boot_Options.html#sect-boot-options-display" class="page">Console, Environment and Display Options</a> for details.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you want to disable root <code>ssh</code> access to your hardware during installation, use the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">sshpw --username=root --lock</span></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--username</span></dt>
<dd>
<p>Provides the name of the user. This option is required.</p>
</dd>
<dt class="hdlist1"><span class="option">--iscrypted</span></dt>
<dd>
<p>If this option is present, the password argument is assumed to already be encrypted. This option is mutually exclusive with <span class="option">--plaintext</span>. To create an encrypted password, you can use Python:</p>
<div class="listingblock">
<div class="content">
<pre>$ <span class="command">python -c 'import crypt; print(crypt.crypt("My Password", "$6$My Salt"))'</span></pre>
</div>
</div>
<div class="paragraph">
<p>This will generate a SHA512 crypt of your password using your provided salt.</p>
</div>
</dd>
<dt class="hdlist1"><span class="option">--plaintext</span></dt>
<dd>
<p>If this option is present, the password argument is assumed to be in plain text. This option is mutually exclusive with <span class="option">--iscrypted</span></p>
</dd>
<dt class="hdlist1"><span class="option">--lock</span></dt>
<dd>
<p>If this option is present, this account is locked by default. This means that the user will not be able to log in from the console.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-text"><a class="anchor" href="#sect-kickstart-commands-text"></a>text (optional) - Perform Installation in Text Mode</h3>
<div class="paragraph">
<p>Perform the Kickstart installation in text mode. Kickstart installations are performed in graphical mode by default.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For a fully automatic installation, you must either specify one of the available modes (<span class="command">graphical</span>, <span class="command">text</span>, or <span class="command">cmdline</span>) in the Kickstart file, or you must use the <span class="option">console=</span> boot option as described in <a href="../advanced/Boot_Options.html#sect-boot-options-display" class="page">Console, Environment and Display Options</a>. Otherwise the system will halt and ask you to choose a mode.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-unsupported_hardware"><a class="anchor" href="#sect-kickstart-commands-unsupported_hardware"></a>unsupported_hardware (optional) - Suppress Unsupported Hardware Alerts</h3>
<div class="paragraph">
<p>Suppress the <code>Unsupported Hardware Detected</code> alert. If this command is not included and unsupported hardware is detected, the installation will stall at this alert.</p>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-vnc"><a class="anchor" href="#sect-kickstart-commands-vnc"></a>vnc (optional) - Configure VNC Access</h3>
<div class="paragraph">
<p>Allows the graphical installation to be viewed remotely via VNC. This method is usually preferred over text mode, as there are some size and language limitations in text installations. With no additional options, this command will start a VNC server on the installation system with no password and will display the details required to connect to it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">vnc [--host=<em>hostname</em>] [--port=<em>port</em>] [--password=<em>password</em>]</span></pre>
</div>
</div>
<div class="paragraph">
<p>For more information about VNC installations, including instructions on how to connect to the installation system, see <a href="../advanced/VNC_Installations.html#chap-vnc-installations" class="page">Installing Using VNC</a>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--host=</span></dt>
<dd>
<p>Connect to a VNC viewer listening on the given hostname.</p>
</dd>
<dt class="hdlist1"><span class="option">--port=</span></dt>
<dd>
<p>Provide a port that the remote VNC viewer process is listening on. If not provided, the VNC default (<code>5900</code>) will be used.</p>
</dd>
<dt class="hdlist1"><span class="option">--password=</span></dt>
<dd>
<p>Set a password which must be provided to connect to the VNC session. This is optional, but recommended.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sect-kickstart-commands-after"><a class="anchor" href="#sect-kickstart-commands-after"></a>After the Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section contains commands which control the system&#8217;s behavior immediately after the installation finishes.</p>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-kdump"><a class="anchor" href="#sect-kickstart-commands-kdump"></a>%addon com_redhat_kdump (optional) - Configure kdump</h3>
<div class="paragraph">
<p>This command configures the <strong class="application">kdump</strong> kernel crash dumping mechanism.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The syntax for this command is unusual because it is an add-on rather than a built-in Kickstart command. For more information about add-ons, see <a href="#sect-kickstart-commands-addon">%addon (optional) - Include an Anaconda Add-on</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong class="application">Kdump</strong> is a kernel crash dumping mechanism that allows you to save the contents of the system&#8217;s memory for later analysis. It relies on <strong class="application">kexec</strong>, which can be used to start a Linux kernel from the context of another kernel without rebooting the system and preserve the contents of the first kernel memory that would otherwise be lost.</p>
</div>
<div class="paragraph">
<p>In case of a system crash, <strong class="application">kexec</strong> starts a second kernel (a <em>capture kernel</em>). This capture kernel resides in a reserved part of the system memory that is inaccessible to the main kernel. <strong class="application">Kdump</strong> then captures the contents of the crashed kernel&#8217;s memory (a <em>crash dump</em>) and saves it to a specified location. This location can not be configured using Kickstart; it must be specified after the installation by editing the <code>/etc/kdump.conf</code> configuration file.</p>
</div>
<div class="paragraph">
<p>Available options are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--enable</span></dt>
<dd>
<p>Enable <strong class="application">Kdump</strong> on the installed system.</p>
</dd>
<dt class="hdlist1"><span class="option">--disable</span></dt>
<dd>
<p>Do not enable <strong class="application">Kdump</strong> on the installed system.</p>
</dd>
<dt class="hdlist1"><span class="option">--reserve-mb=</span></dt>
<dd>
<p>The amount of memory you want to reserve for <strong class="application">Kdump</strong> in megabytes. For example:</p>
<div class="listingblock">
<div class="content">
<pre>%addon com_redhat_kdump --enable --reserve-mb=128
%end</pre>
</div>
</div>
<div class="paragraph">
<p>You can also specify <code>auto</code> instead of a numeric value. In that case the installer will determine the amount of RAM to reserve for kdump automatically, based on your system architecture and the total amount of memory on the system.</p>
</div>
<div class="paragraph">
<p>If you enable <strong class="application">Kdump</strong> and do not specify the <span class="option">--reserve-mb=</span> option, the <code>auto</code> value will be used.</p>
</div>
</dd>
<dt class="hdlist1"><span class="option">--enablefadump</span></dt>
<dd>
<p>Enable firmware-assisted dumping on systems which allow it (notably IBM Power&#160;Systems servers).</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-firstboot"><a class="anchor" href="#sect-kickstart-commands-firstboot"></a>firstboot (optional) - Enable or Disable Initial Setup</h3>
<div class="paragraph">
<p>Determine whether the <strong class="application">Initial Setup</strong> application starts the first time the system is booted. If enabled, the <strong class="package">initial-setup</strong> package must be installed. If not specified, this option is disabled by default. For more information about <strong class="application">Initial Setup</strong>, see <a href="../install/After_Installation.html#sect-initial-setup" class="page">Initial Setup</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">firstboot --enable|--disable [--reconfig]</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--enable</span> or <span class="option">--enabled</span></dt>
<dd>
<p><strong class="application">Initial Setup</strong> will be started the first time the installed system boots.</p>
</dd>
<dt class="hdlist1"><span class="option">--disable</span> or <span class="option">--disabled</span></dt>
<dd>
<p><strong class="application">Initial Setup</strong> will be disabled.</p>
</dd>
<dt class="hdlist1"><span class="option">--reconfig</span></dt>
<dd>
<p><strong class="application">Initial Setup</strong> will start after the reboot in reconfiguration mode. This mode enables the language, mouse, keyboard, root password, security level, time zone and networking configuration options in addition to the default ones.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-halt"><a class="anchor" href="#sect-kickstart-commands-halt"></a>halt (optional) - Halt System After Installation</h3>
<div class="paragraph">
<p>Halt the system after the installation has successfully completed. This is similar to a manual installation, where after the installation finishes, the installer displays a message and waits for the user to press a key before rebooting. During a Kickstart installation, if no completion method is specified, this option is used as the default.</p>
</div>
<div class="paragraph">
<p>For other completion methods, see the <span class="command">poweroff</span>, <span class="command">reboot</span>, and <span class="command">shutdown</span> commands.</p>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-poweroff"><a class="anchor" href="#sect-kickstart-commands-poweroff"></a>poweroff (optional) - Power Off After Installation</h3>
<div class="paragraph">
<p>Shut down and power off the system after the installation has successfully completed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <span class="command">poweroff</span> command is highly dependent on the system hardware in use. Specifically, certain hardware components such as the BIOS, APM (advanced power management), and ACPI (advanced configuration and power interface) must be able to interact with the system kernel. Consult your hardware documentation for more information on you system&#8217;s APM/ACPI abilities.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For other completion methods, see the <span class="command">halt</span>, <span class="command">reboot</span>, and <span class="command">shutdown</span> Kickstart commands.</p>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-reboot"><a class="anchor" href="#sect-kickstart-commands-reboot"></a>reboot (optional) - Reboot After Installation</h3>
<div class="paragraph">
<p>Reboot after the installation is successfully completed. If you are installing Fedora on IBM System&#160;z in command line mode (using <a href="#sect-kickstart-commands-cmdline">cmdline (optional) - Perform Installation in Command Line Mode</a>), this command is necessary for a fully automated installation.</p>
</div>
<div class="paragraph">
<p>For other completion methods, see the <span class="command">halt</span>, <span class="command">poweroff</span>, and <span class="command">shutdown</span> Kickstart options.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Use of the <span class="command">reboot</span> command <strong>may</strong> result in an endless installation loop, depending on the installation media and method.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--eject</span></dt>
<dd>
<p>Attempt to eject the installation media (if installing from a DVD) before rebooting.</p>
</dd>
<dt class="hdlist1"><span class="option">--kexec</span></dt>
<dd>
<p>Use this option to reboot into the new system using the <code>kexec</code> kernel switching mechanism instead of a full reboot, bypassing the BIOS/Firmware and boot loader.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-commands-shutdown"><a class="anchor" href="#sect-kickstart-commands-shutdown"></a>shutdown (optional) - Shut Down After Installation</h3>
<div class="paragraph">
<p>Shut down the system after the installation has successfully completed.</p>
</div>
<div class="paragraph">
<p>For other completion methods, see the <span class="command">halt</span>, <span class="command">poweroff</span>, and <span class="command">reboot</span> Kickstart options.</p>
</div>
<div class="sect3">
<h4 id="sect-kickstart-commands-addon"><a class="anchor" href="#sect-kickstart-commands-addon"></a>%addon (optional) - Include an Anaconda Add-on</h4>
<div class="paragraph">
<p>You can expand the basic <strong class="application">Anaconda</strong> and Kickstart functionality by using custom add-ons specified using the <span class="command">%addon</span> section.</p>
</div>
<div class="paragraph">
<p>To use an add-on in your Kickstart file, add the <span class="command">%addon <em>addon_name</em> <em>options</em></span> command. The section must be closed with an <span class="command">%end</span> statement. For example, to use the <strong class="application">Kdump</strong> add-on, which is included by default on some installations, use the following block:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>%addon com_redhat_kdump --enable --reserve-mb=128%end</pre>
</div>
</div>
<div class="paragraph">
<p>The <span class="command">%addon</span> section does not have any options of its own; all options depend on the add-on being used.</p>
</div>
<div class="paragraph">
<p>For more information about <strong class="application">Anaconda</strong> add-ons, see the <a href="https://vpodzime.fedorapeople.org/anaconda-addon-development-guide/">Fedora Anaconda Addon Development Guide</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="sect-kickstart-commands-anaconda"><a class="anchor" href="#sect-kickstart-commands-anaconda"></a>%anaconda (optional) - Additional Anaconda Configuration</h4>
<div class="paragraph">
<p>This section, introduced in Fedora 22, is used to specify additional configuration options for the installer. Commands inside this section only control the behavior during installation, not on the installed system. The only command currently available inside this section is <a href="#sect-kickstart-commands-pwpolicy">pwpolicy (optional) - Change the Default Password Policy</a>. The <span class="command">%anaconda</span> section must end with <code>%end</code>.</p>
</div>
<div class="paragraph">
<p>In interactive installations (using the graphical or text interface), the <code>/usr/share/anaconda/interactive-defaults.ks</code> file contains the default <span class="command">%anaconda</span> section. To change the defaults, you must create a <code>product.img</code> file with a Kickstart file replacing the default one, and pass this file to <strong class="application">Anaconda</strong> using a boot option.</p>
</div>
<div class="paragraph">
<p>When using a Kickstart file, you can override the default <span class="command">%anaconda</span> section by using the section again in your custom Kickstart.</p>
</div>
</div>
<div class="sect3">
<h4 id="sect-kickstart-commands-include"><a class="anchor" href="#sect-kickstart-commands-include"></a>%include (optional) - Include Contents of Another File</h4>
<div class="paragraph">
<p>Use the <span class="command">%include <em>/path/to/file</em></span> command to include the contents of another file in the Kickstart file as though the contents were at the location of the <span class="command">%include</span> command in the Kickstart file.</p>
</div>
</div>
<div class="sect3">
<h4 id="sect-kickstart-commands-ksappend"><a class="anchor" href="#sect-kickstart-commands-ksappend"></a>%ksappend (optional) - Append Contents of Another File</h4>
<div class="paragraph">
<p>The <span class="command">%ksappend <em>url</em></span> directive is very similar to <a href="#sect-kickstart-commands-include">%include (optional) - Include Contents of Another File</a> in that it is used to include the contents of additional files as though they were at the location of the <span class="command">%ksappend</span> command. The difference is in when the two directives are processed.</p>
</div>
<div class="paragraph">
<p><span class="command">%ksappend</span> is processed in an initial pass, before any other part of the Kickstart file. Then, this expanded Kickstart file is passed to the rest of <strong class="application">Anaconda</strong> where all <span class="command">%pre</span> scripts are handled, and then finally the rest of the Kickstart file is processed in order, which includes <span class="command">%include</span> directives.</p>
</div>
<div class="paragraph">
<p>Therefore, <span class="command">%ksappend</span> provides a way to include a file containing <span class="command">%pre</span> scripts, while <span class="command">%include</span> does not.</p>
</div>
</div>
<div class="sect3">
<h4 id="sect-kickstart-packages"><a class="anchor" href="#sect-kickstart-packages"></a>%packages (required) - Package Selection</h4>
<div class="paragraph">
<p>Use the <span class="command">%packages</span> command to begin a Kickstart section which describes the software packages to be installed. This section must end with an <span class="command">%end</span> statement.</p>
</div>
<div class="paragraph">
<p>You can specify packages by <em>environment</em>, <em>group</em>, or by their package names. Several environments and groups that contain related packages are defined. See the <code>repodata/comps.xml</code> file in your installation source for environment and group definitions.</p>
</div>
<div class="paragraph">
<p>The <code>comps.xml</code> file contains a structure describing available environments (marked by the <code>&lt;environment&gt;</code> tag) and groups (the <code>&lt;group&gt;</code> tag). Each entry has an ID, user visibility value, name, description, and package list. If the group is selected for installation, the packages marked <code>mandatory</code> in the package list are always installed, the packages marked <code>default</code> are installed if they are not specifically excluded, and the packages marked <code>optional</code> must be specifically included even when the group is selected.</p>
</div>
<div class="paragraph">
<p>You can specify a package group or environment using either its ID (the <code>&lt;id&gt;</code> tag) or name (the <code>&lt;name&gt;</code> tag).</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To install a 32-bit package on a 64-bit system, you will need to append the package name with the 32-bit architecture for which the package was built - for example, <strong class="package">glibc.i686</strong>. The <span class="option">--multilib</span> option also must be specified in the Kickstart file; see the available options below.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong class="application">Initial Setup</strong> does not run after a system is installed from a Kickstart file unless a desktop environment and the <strong class="application">X Window System</strong> were included in the installation and graphical login was enabled. This means that by default, no users except for <code>root</code> will be created. You can either create a user with the <span class="option">user</span> option in the Kickstart file before installing additional systems from it (see <a href="#sect-kickstart-commands-user">user (optional) - Create User Account</a> for details) or log into the installed system with a virtual console as <code>root</code> and add users with the <span class="command">useradd</span> command.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<div class="title">Specifying Environments, Groups and Packages</div>
<dl>
<dt class="hdlist1">Specifying an Environment</dt>
<dd>
<p>In addition to groups, you specify an entire environment to be installed:</p>
<div class="listingblock">
<div class="content">
<pre>%packages
@^Infrastructure Server
%end</pre>
</div>
</div>
<div class="paragraph">
<p>This command will install all packages which are part of the <code>Infrastracture Server</code> environment. All available environments are described in the <code>comps.xml</code> file.</p>
</div>
</dd>
<dt class="hdlist1">Specifying Groups</dt>
<dd>
<p>Specify groups, one entry to a line, starting with an <code>@</code> symbol, and then the full group name or group id as given in the <code>comps.xml</code> file. For example:</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">%packages</span>
@X Window System
@Desktop
@Sound and Video
<span class="command">%end</span></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>Core</code> and <code>Base</code> groups are always selected - it is not necessary to specify them in the <span class="command">%packages</span> section.</p>
</div>
<div class="paragraph">
<p>The <code>comps.xml</code> file also defines groups called <code>Conflicts (<em>variant</em>)</code> for each variant of Fedora. This group contains all packages which are known to cause file conflicts, and is intended to be excluded.</p>
</div>
</dd>
<dt class="hdlist1">Specifying Individual Packages</dt>
<dd>
<p>Specify individual packages by name, one entry to a line. You can use the asterisk character (<code>*</code>) as a <em>wildcard</em> in package names. For example:</p>
<div class="listingblock">
<div class="content">
<pre>%packages
sqlite
curl
aspell
docbook*
%end</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>docbook*</code> entry includes the packages <strong class="package">docbook-dtds</strong>, <strong class="package">docbook-simple</strong>, <strong class="package">docbook-slides</strong> and others that match the pattern represented with the wildcard.</p>
</div>
</dd>
<dt class="hdlist1">Excluding Environments, Groups, or Packages</dt>
<dd>
<p>Use a leading dash (<code>-</code>) to specify packages or groups to exclude from the installation. For example:</p>
<div class="listingblock">
<div class="content">
<pre>%packages
-@Graphical Internet
-autofs
-ipa*fonts
%end</pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Installing all available packages using only <code>*</code> in a Kickstart file is not supported, even if you exclude the <code>@Conflicts (<em>variant</em>)</code> group.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can change the default behavior of the <span class="command">%packages</span> section by using several options. Some options work for the entire package selection, others are used with only specific groups.</p>
</div>
<div class="paragraph">
<div class="title">Common Package Selection Options</div>
<p>The following options are available for the <span class="command">%packages</span>. To use an option, append it to the start of the package selection section. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">%packages --multilib --ignoremissing</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--nocore</span></dt>
<dd>
<p>Do not install the <code>@Core</code> group.</p>
</dd>
<dt class="hdlist1"><span class="option">--ignoremissing</span></dt>
<dd>
<p>Ignore any packages, groups and environments missing in the installation source, instead of halting the installation to ask if the installation should be aborted or continued.</p>
</dd>
<dt class="hdlist1"><span class="option">--excludedocs</span></dt>
<dd>
<p>Do not install any documentation contained within packages. In most cases, this will exclude any files normally installed in the <code>/usr/share/doc*</code> directory, but the specific files to be excluded depend on individual packages.</p>
</dd>
<dt class="hdlist1"><span class="option">--multilib</span></dt>
<dd>
<p>Configure the installed system for multilib packages (that is, to allow installing 32-bit packages on a 64-bit system) and install packages specified in this section as such.</p>
<div class="paragraph">
<p>Normally, on a 64-bit system, only packages for this architecture (marked as <code>x86_64</code>) and packages for all architectures (marked as <code>noarch</code>) would be installed. When you use this option, packages for 32-bit systems (marked as <code>i686</code>) will be automatically installed as well, if available.</p>
</div>
<div class="paragraph">
<p>This only applies to packages explicitly specified in the <span class="command">%packages</span> section. Packages which are only being installed as dependencies without being specified in the Kickstart file will only be installed in architecture versions in which they are needed, even if they are available for more architectures.</p>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<div class="title">Options for Specific Package Groups</div>
<p>The options in this list only apply to a single package group. Instead of using them at the <span class="command">%packages</span> command in the Kickstart file, append them to the group name. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">%packages</span>
@Graphical Internet --optional
<span class="command">%end</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--nodefaults</span></dt>
<dd>
<p>Only install the group&#8217;s mandatory packages, not the default selections.</p>
</dd>
<dt class="hdlist1"><span class="option">--optional</span></dt>
<dd>
<p>Install packages marked as optional in the group definition in the <code>comps.xml</code> file, in addition to installing the default selections.</p>
<div class="paragraph">
<p>Note that some package groups, such as <code>Scientific Support</code>, do not have any mandatory or default packages specified - only optional packages. In this case the <span class="option">--optional</span> option must always be used, otherwise no packages from this group will be installed.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="sect-kickstart-preinstall"><a class="anchor" href="#sect-kickstart-preinstall"></a>%pre (optional) - Pre-installation Script</h4>
<div class="paragraph">
<p>You can add commands to run on the system immediately after the Kickstart file has been parsed, but before the installation begins. This section must be placed towards the end of the Kickstart file, after the actual Kickstart commands, and must start with <span class="command">%pre</span> and end with <span class="command">%end</span>. If your Kickstart file also includes a <span class="command">%post</span> section, the order in which the <span class="command">%pre</span> and <span class="command">%post</span> sections are included does not matter.</p>
</div>
<div class="paragraph">
<p>You can access the network in the <span class="command">%pre</span> section. However, the <em>name service</em> has not been configured at this point, so only IP addresses work, not URLs.</p>
</div>
<div class="paragraph">
<p>The pre-installation script section of Kickstart <strong>cannot</strong> manage multiple install trees or source media. This information must be included for each created Kickstart file, as the pre-installation script occurs during the second stage of the installation process.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Unlike the post-installation script, the pre-installation script is not run in the <code>chroot</code> environment.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following options can be used to change the behavior of pre-installation scripts. To use an option, append it to the <span class="command">%pre</span> line at the beginning of the script. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">%pre --interpreter=/usr/bin/python</span>
--- Python script omitted --
<span class="command">%end</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--interpreter=</span></dt>
<dd>
<p>Allows you to specify a different scripting language, such as Python. Any scripting language available on the system can be used; in most cases, these will be <code>/usr/bin/sh</code>, <code>/usr/bin/bash</code>, and <code>/usr/bin/python</code>.</p>
</dd>
<dt class="hdlist1"><span class="option">--erroronfail</span></dt>
<dd>
<p>Display an error and halt the installation if the script fails. The error message will direct you to where the cause of the failure is logged.</p>
</dd>
<dt class="hdlist1"><span class="option">--log=</span></dt>
<dd>
<p>Logs the script&#8217;s output into the specified log file. For example:</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">%pre --log=/mnt/sysimage/root/ks-pre.log</span></pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>For an example of a pre-installation script, see <a href="#sect-kickstart-example-pre-script">Example Pre-installation Script</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="sect-kickstart-postinstall"><a class="anchor" href="#sect-kickstart-postinstall"></a>%post (optional) - Post-installation Script</h4>
<div class="paragraph">
<p>You have the option of adding commands to run on the system once the installation is complete, but before the system is rebooted for the first time. This section must be placed towards the end of the Kickstart file, after the actual Kickstart commands, and must start with <span class="command">%post</span> and end with <span class="command">%end</span>. If your Kickstart file also includes a <span class="command">%pre</span> section, the order of the <span class="command">%pre</span> and <span class="command">%post</span> sections does not matter.</p>
</div>
<div class="paragraph">
<p>This section is useful for functions such as installing additional software or configuring an additional name server. The post-install script is run in a chroot environment, therefore, performing tasks such as copying scripts or RPM packages from the installation media do not work by default. You can change this behavior using the <span class="option">--nochroot</span> option as described below.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you configured the network with static IP information, including a name server, you can access the network and resolve IP addresses in the <span class="command">%post</span> section. If you configured the network for <code>DHCP</code>, the <code>/etc/resolv.conf</code> file has not been completed when the installation executes the <span class="command">%post</span> section. You can access the network, but you cannot resolve IP addresses. Thus, if you are using <code>DHCP</code>, you must specify IP addresses in the <span class="command">%post</span> section.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following options can be used to change the behavior of post-installation scripts. To use an option, append it to the <span class="command">%post</span> line at the beginning of the script. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">%post --interpreter=/usr/bin/python</span>
--- Python script omitted --
<span class="command">%end</span></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="option">--interpreter=</span></dt>
<dd>
<p>Allows you to specify a different scripting language, such as Python. For example:</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">%post --interpreter=/usr/bin/python</span></pre>
</div>
</div>
<div class="paragraph">
<p>Any scripting language available on the system can be used; in most cases, these will be <code>/usr/bin/sh</code>, <code>/usr/bin/bash</code>, and <code>/usr/bin/python</code>.</p>
</div>
</dd>
<dt class="hdlist1"><span class="option">--nochroot</span></dt>
<dd>
<p>Allows you to specify commands that you would like to run outside of the chroot environment.</p>
<div class="paragraph">
<p>The following example copies the file <code>/etc/resolv.conf</code> to the file system that was just installed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">%post --nochroot</span>
cp /etc/resolv.conf /mnt/sysimage/etc/resolv.conf
<span class="command">%end</span></pre>
</div>
</div>
</dd>
<dt class="hdlist1"><span class="option">--erroronfail</span></dt>
<dd>
<p>Display an error and halt the installation if the script fails. The error message will direct you to where the cause of the failure is logged.</p>
</dd>
<dt class="hdlist1"><span class="option">--log=</span></dt>
<dd>
<p>Logs the script&#8217;s output into the specified log file. Note that the path of the log file must take into account whether or not you use the <span class="option">--nochroot</span> option. For example, without <span class="option">--nochroot</span>:</p>
<div class="listingblock">
<div class="content">
<pre><span class="command">%post --log=/root/ks-post.log</span></pre>
</div>
</div>
<div class="paragraph">
<p>with <span class="option">--nochroot</span>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">%post --nochroot --log=/mnt/sysimage/root/ks-post.log</span></pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>For an example of a post-installation script, see <a href="#sect-kickstart-example-post-script">Example Post-installation Script</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sect-kickstart-examples"><a class="anchor" href="#sect-kickstart-examples"></a>Example Kickstart Configurations</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="sect-kickstart-example-advanced-partitioning"><a class="anchor" href="#sect-kickstart-example-advanced-partitioning"></a>Advanced Partitioning Example</h3>
<div class="paragraph">
<p>The following is an integrated example showing the <span class="command">clearpart</span>, <span class="command">zerombr</span>, <span class="command">part</span>, <span class="command">raid</span>, <span class="command">volgroup</span>, and <span class="command">logvol</span> Kickstart options in action:</p>
</div>
<div class="exampleblock">
<div class="title">Example 3. Advanced Partitioning Example</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>clearpart  --drives=hda,hdc
zerombr
# Raid 1 IDE config
part raid.11 --size 1000  --asprimary --ondrive=hda
part raid.12 --size 1000  --asprimary --ondrive=hda
part raid.13 --size 2000  --asprimary --ondrive=hda
part raid.14 --size 8000              --ondrive=hda
part raid.15 --size 16384 --grow      --ondrive=hda
part raid.21 --size 1000  --asprimary --ondrive=hdc
part raid.22 --size 1000  --asprimary --ondrive=hdc
part raid.23 --size 2000  --asprimary --ondrive=hdc
part raid.24 --size 8000              --ondrive=hdc
part raid.25 --size 16384 --grow      --ondrive=hdc

# You can add --spares=x
raid /     --fstype xfs  --device root  --level=RAID1 raid.11 raid.21
raid /safe --fstype xfs  --device safe  --level=RAID1 raid.12 raid.22
raid swap  --fstype swap --device swap  --level=RAID1 raid.13 raid.23
raid /usr  --fstype xfs  --device usr   --level=RAID1 raid.14 raid.24
raid pv.01 --fstype xfs  --device pv.01 --level=RAID1 raid.15 raid.25

# LVM configuration so that we can resize /var and /usr/local later
volgroup sysvg pv.01
logvol /var           --vgname=sysvg --size=8000     --name=var
logvol /var/freespace --vgname=sysvg --size=8000     --name=freespacetouse
logvol /usr/local     --vgname=sysvg --size=1 --grow --name=usrlocal</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>This advanced example implements LVM over RAID, as well as the ability to resize various directories for future growth.</p>
</div>
<div class="paragraph">
<p>First, the <span class="command">clearpart</span> command is used on drives <code>hda</code> and <code>hdc</code> to wipe them. The <span class="command">zerombr</span> command initializes unused partition tables.</p>
</div>
<div class="paragraph">
<p>Then, the two drives are partitioned to prepare them for RAID configuration. Each drive is divided into five partitions, and each drive is partitioned into an identical layout.</p>
</div>
<div class="paragraph">
<p>The next part uses these pairs of physical partitions to create a software RAID device with RAID1 level (mirroring). The first four RAID devices are used for <code>/</code> (root), <code>/safe</code>, <code>swap</code> and <code>/usr</code>. The fifth, largest pair of partitions is named <code>pv.01</code> and will be used in the following part as a physical volume for LVM.</p>
</div>
<div class="paragraph">
<p>Finally, the last set of commands first creates a volume group named <code>sysvg</code> on the <code>pv.01</code> physical volume. Then, three logical volumes (<code>/var</code>, <code>/var/freespace</code> and <code>/usr/local</code>) are created and added to the <code>sysvg</code> volume group. The <code>/var</code> and <code>/var/freespace</code> volumes have a set size of 8 GB, and the <code>/usr/local</code> volume uses the <span class="option">--grow</span> option to fill all remaining available space.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The above example uses identifiers <code>hda</code> and <code>hdc</code> to identify disk drives. You should use unique identifiers, such as a disk labels or an UUIDs, to identify disk drives. See the note in introduction to this appendix.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-example-pre-script"><a class="anchor" href="#sect-kickstart-example-pre-script"></a>Example Pre-installation Script</h3>
<div class="paragraph">
<p>The following is an example <span class="command">%pre</span> section:</p>
</div>
<div id="exam-kickstart-pre-script" class="exampleblock">
<div class="title">Example 4. Sample %pre Script</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>%pre
#!/bin/sh
hds=""
mymedia=""
for file in /proc/ide/h* do
mymedia=`cat $file/media`
if [ $mymedia == "disk" ] ; then
hds="$hds `basename $file`"
fi
done
set $hds
numhd=`echo $#`
drive1=`echo $hds | cut -d' ' -f1`
drive2=`echo $hds | cut -d' ' -f2`

#Write out partition scheme based on whether there are 1 or 2 hard drives
if [ $numhd == "2" ] ; then
#2 drives
echo "#partitioning scheme generated in %pre for 2 drives" &gt; /tmp/part-include
echo "clearpart --all" &gt;&gt; /tmp/part-include
echo "part /boot --fstype xfs --size 75 --ondisk hda" &gt;&gt; /tmp/part-include
echo "part / --fstype xfs --size 1 --grow --ondisk hda" &gt;&gt; /tmp/part-include
echo "part swap --recommended --ondisk $drive1" &gt;&gt; /tmp/part-include
echo "part /home --fstype xfs --size 1 --grow --ondisk hdb" &gt;&gt; /tmp/part-include
else
#1 drive
echo "#partitioning scheme generated in %pre for 1 drive" &gt; /tmp/part-include
echo "clearpart --all" &gt;&gt; /tmp/part-include
echo "part /boot --fstype xfs --size 75" &gt;&gt; /tmp/part-include
echo "part swap --recommended" &gt;&gt; /tmp/part-include
echo "part / --fstype xfs --size 2048" &gt;&gt; /tmp/part-include
echo "part /home --fstype xfs --size 2048 --grow" &gt;&gt; /tmp/part-include
fi
%end</pre>
</div>
</div>
<div class="paragraph">
<p>This script determines the number of hard drives in the system and writes a text file with a different partitioning scheme depending on whether it has one or two drives. Instead of having a set of partitioning commands in the Kickstart file, include the following line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><span class="command">%include /tmp/part-include</span></pre>
</div>
</div>
<div class="paragraph">
<p>The partitioning commands selected in the script will be used.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sect-kickstart-example-post-script"><a class="anchor" href="#sect-kickstart-example-post-script"></a>Example Post-installation Script</h3>
<div class="paragraph">
<p>The following is an example <span class="command">%post</span> section:</p>
</div>
<div id="exam-kickstart-post-script" class="exampleblock">
<div class="title">Example 5. Sample %post Script</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre># Start of the %post section with logging into /root/ks-post.log
%post --log=/root/ks-post.log

# Mount an NFS share
mkdir /mnt/temp
mount -o nolock 10.10.0.2:/usr/new-machines /mnt/temp
openvt -s -w -- /mnt/temp/runme
umount /mnt/temp

# End of the %post section
%end</pre>
</div>
</div>
<div class="paragraph">
<p>The above example mounts an NFS share and executes a script named <code>runme</code> located at <code>/usr/new-machines/</code> on the share. Note that NFS file locking is <strong>not</strong> supported while in Kickstart mode, therefore the <span class="option">-o nolock</span> option is required.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
<div id="contributing">
    <p class="contribute">Want to help? <a href="https://docs.fedoraproject.org/en-US/fedora-docs/contributing/">Learn how to contribute to Fedora Docs.</a></p>
</div>  </main>
</div>
<footer class="footer">
  <p>All Fedora Documentation content available under <a href="http://creativecommons.org/licenses/by-sa/3.0/legalcode">CC-BY-SA 3.0</a> or, when specifically noted, under another <a href="https://fedoraproject.org/wiki/Licensing:Main">accepted</a> free and open content license.</p>
  <p>Last build: </p>
</footer>
<script src="../../../../_/js/site.js"></script>
<script src="../../../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
